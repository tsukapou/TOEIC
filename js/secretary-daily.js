// TOEIC PART5 å­¦ç¿’ã‚µãƒãƒ¼ãƒˆ - æ¯æ—¥ã®3äººä¼šè©±ã‚·ã‚¹ãƒ†ãƒ 
// ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã‹ã‚‰3äººå…¨å“¡ãŒç™»å ´ã—ã€å­¦ç¿’çŠ¶æ³ã‚’è©•ä¾¡ã—ã¦ã‚„ã‚‹æ°—ã‚’å¼•ãå‡ºã™

const SecretaryDaily = {
  
  // å­¦ç¿’çŠ¶æ³ãƒ‡ãƒ¼ã‚¿
  studyStatus: {
    today: null,
    yesterday: null,
    streak: 0,
    totalDays: 0,
    avgScore: 0,
    trend: 'flat' // up, down, flat
  },
  
  // æœ€çµ‚è¡¨ç¤ºæ—¥ã‚’è¨˜éŒ²
  lastDisplayDate: null,
  storageKey: 'toeic_last_daily_display',
  
  // åˆæœŸåŒ–
  initialize: function() {
    console.log('ğŸ‘¥ æ¯æ—¥ã®3äººä¼šè©±ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ä¸­...');
    this.loadLastDisplayDate();
    this.analyzeStudyStatus();
  },
  
  // æœ€çµ‚è¡¨ç¤ºæ—¥ã‚’èª­ã¿è¾¼ã¿
  loadLastDisplayDate: function() {
    const saved = localStorage.getItem(this.storageKey);
    if (saved) {
      this.lastDisplayDate = saved;
    }
  },
  
  // æœ€çµ‚è¡¨ç¤ºæ—¥ã‚’ä¿å­˜
  saveLastDisplayDate: function() {
    const today = this.getTodayString();
    localStorage.setItem(this.storageKey, today);
    this.lastDisplayDate = today;
  },
  
  // ä»Šæ—¥ã®æ—¥ä»˜æ–‡å­—åˆ—ã‚’å–å¾—
  getTodayString: function() {
    const now = new Date();
    return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
  },
  
  // ä»Šæ—¥ã®ä¼šè©±ã‚’è¡¨ç¤ºã™ã¹ãã‹åˆ¤å®š
  shouldShowDailyConversation: function() {
    const today = this.getTodayString();
    return this.lastDisplayDate !== today;
  },
  
  // å­¦ç¿’çŠ¶æ³ã‚’åˆ†æ
  analyzeStudyStatus: function() {
    if (typeof getProgress !== 'function') {
      console.warn('âš ï¸ getProgressé–¢æ•°ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
      return;
    }
    
    const progress = getProgress();
    const tests = progress.tests || {};
    
    if (Object.keys(tests).length === 0) {
      this.studyStatus = {
        today: null,
        yesterday: null,
        streak: 0,
        totalDays: 0,
        avgScore: 0,
        trend: 'flat',
        isFirstTime: true
      };
      return;
    }
    
    // å…¨ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚³ã‚¢ã¨æ—¥ä»˜ã‚’å–å¾—
    const testData = Object.values(tests).map(t => ({
      date: t.date || this.getTodayString(),
      score: (t.score / t.total) * 100,
      accuracy: t.accuracy || ((t.score / t.total) * 100)
    }));
    
    // æ—¥ä»˜ã§ã‚½ãƒ¼ãƒˆ
    testData.sort((a, b) => new Date(a.date) - new Date(b.date));
    
    // ä»Šæ—¥ã®ãƒ‡ãƒ¼ã‚¿
    const today = this.getTodayString();
    const todayTests = testData.filter(t => t.date === today);
    
    // æ˜¨æ—¥ã®ãƒ‡ãƒ¼ã‚¿
    const yesterday = this.getYesterdayString();
    const yesterdayTests = testData.filter(t => t.date === yesterday);
    
    // å¹³å‡æ­£ç­”ç‡
    const allScores = testData.map(t => t.score);
    const avgScore = allScores.reduce((a, b) => a + b, 0) / allScores.length;
    
    // é€£ç¶šå­¦ç¿’æ—¥æ•°ã‚’è¨ˆç®—
    const uniqueDates = [...new Set(testData.map(t => t.date))].sort();
    const streak = this.calculateStreak(uniqueDates);
    
    // ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ
    let trend = 'flat';
    if (todayTests.length > 0 && yesterdayTests.length > 0) {
      const todayAvg = todayTests.reduce((a, b) => a + b.score, 0) / todayTests.length;
      const yesterdayAvg = yesterdayTests.reduce((a, b) => a + b.score, 0) / yesterdayTests.length;
      
      if (todayAvg > yesterdayAvg + 5) trend = 'up';
      else if (todayAvg < yesterdayAvg - 5) trend = 'down';
    } else if (testData.length >= 2) {
      const recent = testData.slice(-3).map(t => t.score);
      const earlier = testData.slice(0, -3).map(t => t.score);
      
      if (earlier.length > 0) {
        const recentAvg = recent.reduce((a, b) => a + b, 0) / recent.length;
        const earlierAvg = earlier.reduce((a, b) => a + b, 0) / earlier.length;
        
        if (recentAvg > earlierAvg + 5) trend = 'up';
        else if (recentAvg < earlierAvg - 5) trend = 'down';
      }
    }
    
    this.studyStatus = {
      today: todayTests.length > 0 ? {
        count: todayTests.length,
        avgScore: todayTests.reduce((a, b) => a + b.score, 0) / todayTests.length
      } : null,
      yesterday: yesterdayTests.length > 0 ? {
        count: yesterdayTests.length,
        avgScore: yesterdayTests.reduce((a, b) => a + b.score, 0) / yesterdayTests.length
      } : null,
      streak: streak,
      totalDays: uniqueDates.length,
      avgScore: avgScore,
      trend: trend,
      completedTests: Object.keys(tests).length,
      isFirstTime: false
    };
    
    console.log('ğŸ“Š å­¦ç¿’çŠ¶æ³åˆ†æ:', this.studyStatus);
  },
  
  // æ˜¨æ—¥ã®æ—¥ä»˜æ–‡å­—åˆ—ã‚’å–å¾—
  getYesterdayString: function() {
    const yesterday = new Date();
    yesterday.setDate(yesterday.getDate() - 1);
    return `${yesterday.getFullYear()}-${String(yesterday.getMonth() + 1).padStart(2, '0')}-${String(yesterday.getDate()).padStart(2, '0')}`;
  },
  
  // é€£ç¶šå­¦ç¿’æ—¥æ•°ã‚’è¨ˆç®—
  calculateStreak: function(sortedDates) {
    if (sortedDates.length === 0) return 0;
    
    let streak = 1;
    const today = this.getTodayString();
    const yesterday = this.getYesterdayString();
    
    // ä»Šæ—¥ã¾ãŸã¯æ˜¨æ—¥ã«å­¦ç¿’ã—ã¦ã„ãªã„å ´åˆã¯0
    if (sortedDates[sortedDates.length - 1] !== today && 
        sortedDates[sortedDates.length - 1] !== yesterday) {
      return 0;
    }
    
    // æœ€æ–°ã®æ—¥ä»˜ã‹ã‚‰é€†é †ã«ãƒã‚§ãƒƒã‚¯
    for (let i = sortedDates.length - 2; i >= 0; i--) {
      const current = new Date(sortedDates[i + 1]);
      const prev = new Date(sortedDates[i]);
      const diffDays = Math.floor((current - prev) / (1000 * 60 * 60 * 24));
      
      if (diffDays === 1) {
        streak++;
      } else {
        break;
      }
    }
    
    return streak;
  },
  
  // æ¯æ—¥ã®ä¼šè©±ã‚’è¡¨ç¤º
  showDailyConversation: function() {
    if (!this.shouldShowDailyConversation()) {
      console.log('â„¹ï¸ ä»Šæ—¥ã®ä¼šè©±ã¯æ—¢ã«è¡¨ç¤ºæ¸ˆã¿');
      return;
    }
    
    const messages = this.getDailyMessages();
    const expressions = this.getExpressionsForMessages();
    
    // è¡¨æƒ…ç”»åƒURLã‚’å–å¾—
    // SecretaryTeamã‹ã‚‰åŸºæœ¬ç”»åƒã‚’å–å¾—ï¼ˆçµ±ä¸€ï¼‰
    const getDefaultImage = (secretaryId) => {
      return typeof SecretaryTeam !== 'undefined' && SecretaryTeam.secretaries[secretaryId]
        ? SecretaryTeam.secretaries[secretaryId].avatarUrl
        : '';
    };
    
    // è¡¨æƒ…ç”»åƒã‚’å–å¾—ï¼ˆè¡¨æƒ…ã‚·ã‚¹ãƒ†ãƒ ãŒã‚ã‚Œã°ä½¿ç”¨ã€ãªã‘ã‚Œã°åŸºæœ¬ç”»åƒï¼‰
    const sakuraImg = (typeof SecretaryExpressions !== 'undefined' && SecretaryExpressions.expressions.sakura[expressions.sakura]) 
      ? SecretaryExpressions.expressions.sakura[expressions.sakura]
      : getDefaultImage('sakura');
    
    const reinaImg = (typeof SecretaryExpressions !== 'undefined' && SecretaryExpressions.expressions.reina[expressions.reina])
      ? SecretaryExpressions.expressions.reina[expressions.reina]
      : getDefaultImage('reina');
    
    const yuiImg = (typeof SecretaryExpressions !== 'undefined' && SecretaryExpressions.expressions.yui[expressions.yui])
      ? SecretaryExpressions.expressions.yui[expressions.yui]
      : getDefaultImage('yui');
    
    const html = `
      <div class="daily-overlay" id="dailyOverlay">
        <div class="daily-modal">
          <div class="daily-header">
            <h2>ğŸ“… ä»Šæ—¥ã®å­¦ç¿’çŠ¶æ³ãƒã‚§ãƒƒã‚¯</h2>
            <p class="daily-date">${this.getFormattedDate()}</p>
          </div>
          
          <div class="daily-secretaries">
            <div class="daily-secretary" data-secretary="sakura">
              <img src="${sakuraImg}" alt="ã•ãã‚‰" id="dailySakuraImg">
              <div class="daily-secretary-name">ğŸŒ¸ ã•ãã‚‰</div>
            </div>
            <div class="daily-secretary" data-secretary="reina">
              <img src="${reinaImg}" alt="ãƒ¬ã‚¤ãƒŠ" id="dailyReinaImg">
              <div class="daily-secretary-name">ğŸ’¼ ãƒ¬ã‚¤ãƒŠ</div>
            </div>
            <div class="daily-secretary" data-secretary="yui">
              <img src="${yuiImg}" alt="ãƒ¦ã‚¤" id="dailyYuiImg">
              <div class="daily-secretary-name">ğŸ€ ãƒ¦ã‚¤</div>
            </div>
          </div>
          
          <div class="daily-messages">
            <div class="daily-message daily-message-sakura">
              <div class="daily-message-icon">ğŸŒ¸</div>
              <div class="daily-message-content">
                <strong>ã•ãã‚‰</strong>
                <p>${messages.sakura}</p>
              </div>
            </div>
            
            <div class="daily-message daily-message-reina">
              <div class="daily-message-icon">ğŸ’¼</div>
              <div class="daily-message-content">
                <strong>ãƒ¬ã‚¤ãƒŠ</strong>
                <p>${messages.reina}</p>
              </div>
            </div>
            
            <div class="daily-message daily-message-yui">
              <div class="daily-message-icon">ğŸ€</div>
              <div class="daily-message-content">
                <strong>ãƒ¦ã‚¤</strong>
                <p>${messages.yui}</p>
              </div>
            </div>
          </div>
          
          ${this.getStudyStatsHTML()}
          
          <button class="daily-close-btn" onclick="SecretaryDaily.closeDailyConversation()">
            ä»Šæ—¥ã‚‚é ‘å¼µã‚Šã¾ã™ï¼ğŸ’ª
          </button>
        </div>
      </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', html);
    this.saveLastDisplayDate();
    
    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    setTimeout(() => {
      document.querySelectorAll('.daily-secretary').forEach((el, i) => {
        setTimeout(() => {
          el.classList.add('daily-secretary-show');
        }, i * 200);
      });
      
      document.querySelectorAll('.daily-message').forEach((el, i) => {
        setTimeout(() => {
          el.classList.add('daily-message-show');
        }, 600 + i * 300);
      });
    }, 100);
  },
  
  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸæ—¥ä»˜ã‚’å–å¾—
  getFormattedDate: function() {
    const now = new Date();
    const days = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
    return `${now.getFullYear()}å¹´${now.getMonth() + 1}æœˆ${now.getDate()}æ—¥ï¼ˆ${days[now.getDay()]}ï¼‰`;
  },
  
  // æ¯æ—¥ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—
  getDailyMessages: function() {
    const status = this.studyStatus;
    
    // åˆå›
    if (status.isFirstTime) {
      return {
        sakura: 'ã¯ã˜ã‚ã¾ã—ã¦ï¼ç§ã¯ã•ãã‚‰ã§ã™ğŸŒ¸ ã“ã‚Œã‹ã‚‰ä¸€ç·’ã«TOEICå­¦ç¿’ã‚’é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã§ã™ã‚ˆğŸ˜Š',
        reina: 'ç§ã¯ãƒ¬ã‚¤ãƒŠã‚ˆã€‚æœ¬æ°—ã§ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—ã‚’ç›®æŒ‡ã™ãªã‚‰ã€ç§ã«ã¤ã„ã¦æ¥ãªã•ã„ğŸ’¼ ç”˜ãˆã¯è¨±ã•ãªã„ã‚',
        yui: 'ã‚ãƒ¼ã„ï¼ãƒ¦ã‚¤ã ã‚ˆğŸ€ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ä¸€ç·’ã«æ¥½ã—ãå‹‰å¼·ã—ã‚ˆã†ã­ï¼ãƒ¦ã‚¤ãŒå…¨åŠ›ã§å¿œæ´ã™ã‚‹ã‚ˆï¼âœ¨'
      };
    }
    
    // é€£ç¶šå­¦ç¿’ä¸­
    if (status.streak >= 3) {
      return this.getStreakMessages();
    }
    
    // ä»Šæ—¥å­¦ç¿’æ¸ˆã¿
    if (status.today) {
      return this.getTodayStudiedMessages();
    }
    
    // æ˜¨æ—¥å­¦ç¿’ã—ãŸãŒä»Šæ—¥ã¯ã¾ã 
    if (status.yesterday) {
      return this.getYesterdayStudiedMessages();
    }
    
    // ã—ã°ã‚‰ãå­¦ç¿’ã—ã¦ã„ãªã„
    if (status.totalDays > 0) {
      return this.getLongAbsenceMessages();
    }
    
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
    return this.getDefaultMessages();
  },
  
  // é€£ç¶šå­¦ç¿’ä¸­ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆå¤§å¹…æ‹¡å¼µç‰ˆï¼‰
  getStreakMessages: function() {
    const streak = this.studyStatus.streak;
    const avgScore = Math.round(this.studyStatus.avgScore);
    
    const sakuraMessages = [
      `ç´ æ™´ã‚‰ã—ã„ï¼${streak}æ—¥é€£ç¶šã§å­¦ç¿’ã—ã¦ã„ã¾ã™ã­âœ¨ ã‚ãªãŸã®ç¶™ç¶šåŠ›ã€æœ¬å½“ã«å°Šæ•¬ã—ã¾ã™ï¼ã“ã®èª¿å­ã§é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼`,
      `${streak}æ—¥é€£ç¶šé”æˆãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ğŸ‰ ç¶™ç¶šã¯åŠ›ãªã‚Šã€ã§ã™ã­ï¼ã‚ãªãŸãªã‚‰å¿…ãšç›®æ¨™é”æˆã§ãã¾ã™ã‚ˆğŸ˜Š`,
      `ã™ã”ã„ï¼ã‚‚ã†${streak}æ—¥ã‚‚ç¶šã„ã¦ã„ã¾ã™ã­ğŸ’ª ãã®åŠªåŠ›ã¯å¿…ãšå®Ÿã‚’çµã³ã¾ã™ã€‚ä»Šæ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼`,
      `${streak}æ—¥é€£ç¶šå­¦ç¿’ã€æœ¬å½“ã«ç´ æ™´ã‚‰ã—ã„ã§ã™ï¼âœ¨ æ¯æ—¥ã‚³ãƒ„ã‚³ãƒ„ç©ã¿é‡ã­ã‚‹å§¿å‹¢ã€ç§ã‚‚è¦‹ç¿’ã„ãŸã„ã§ã™ğŸ˜Š ä¸€ç·’ã«ç›®æ¨™ã¾ã§é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼`,
      `é€£ç¶š${streak}æ—¥ç›®ã§ã™ã­ï¼ğŸ’ª ã‚ãªãŸã®åŠªåŠ›ã®è»Œè·¡ãŒã€ç¢ºå®Ÿã«ã‚¹ã‚³ã‚¢ã«ç¾ã‚Œã¦ã„ã¾ã™ã‚ˆã€‚å¹³å‡${avgScore}%ã€ç´ æ™´ã‚‰ã—ã„ã§ã™ï¼`,
      `${streak}æ—¥ã‚‚ç¶šã‘ã‚‰ã‚Œã¦ã„ã‚‹ãªã‚“ã¦â€¦æœ¬å½“ã«ã™ã”ã„ã§ã™ğŸ˜Š æŒ«ã‘ãã†ãªæ—¥ã‚‚ã‚ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚ã§ã‚‚ã‚ãªãŸã¯ä¹—ã‚Šè¶ŠãˆãŸã€‚ãã®å¼·ã•ã‚’èª‡ã‚Šã«æ€ã£ã¦ãã ã•ã„âœ¨`,
      `ç¶™ç¶š${streak}æ—¥é”æˆï¼ğŸ‰ ã‚ãªãŸã®å­¦ç¿’ç¿’æ…£ã€å®Œå…¨ã«å®šç€ã—ã¦ã„ã¾ã™ã­ã€‚ã“ã®èª¿å­ã§900ç‚¹å°ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ï¼`,
      `${streak}æ—¥é€£ç¶šã®å­¦ç¿’è¨˜éŒ²â€¦æ„Ÿå‹•çš„ã§ã™ğŸ˜­âœ¨ ã‚ãªãŸã®çœŸæ‘¯ãªå§¿å‹¢ã«ã€ç§ã‚‚åŠ±ã¾ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸€ç·’ã«æœ€å¾Œã¾ã§é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã­ï¼`,
      `ç´ æ•µã§ã™ï¼${streak}æ—¥é€£ç¶šã§ã™ã‚ˆï¼ğŸ’• æ¯æ—¥ã®å°ã•ãªç©ã¿é‡ã­ãŒã€å¤§ããªæˆæœã‚’ç”Ÿã¿å‡ºã—ã¾ã™ã€‚ã‚ãªãŸã¯ç¢ºå®Ÿã«æˆé•·ã—ã¦ã„ã¾ã™ğŸ˜Š`,
      `${streak}æ—¥é€£ç¶šå­¦ç¿’â€¦ã‚ãªãŸã®æ„å¿—ã®å¼·ã•ã‚’æ„Ÿã˜ã¾ã™ğŸ’ª ã©ã‚“ãªç›®æ¨™ã§ã‚‚ã€ã“ã®ç¶™ç¶šåŠ›ãŒã‚ã‚Œã°é”æˆã§ãã¾ã™ã‚ˆï¼å¿œæ´ã—ã¦ã„ã¾ã™âœ¨`,
      `ç¶™ç¶š${streak}æ—¥ã€æœ¬å½“ã«ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ğŸŠ æ¯æ—¥ç§ã¨ä¸€ç·’ã«é ‘å¼µã£ã¦ãã‚Œã¦ã€ã™ã”ãå¬‰ã—ã„ã§ã™ğŸ˜Š ä»Šæ—¥ã‚‚æ¥½ã—ãå­¦ã³ã¾ã—ã‚‡ã†ï¼`,
      `${streak}æ—¥é–“ã€æ¯æ—¥æ¬ ã‹ã•ãšâ€¦ãã®åŠªåŠ›ã«é ­ãŒä¸‹ãŒã‚Šã¾ã™ğŸ˜Œâœ¨ ã‚ãªãŸã®çœŸå‰£ãªå§¿å‹¢ãŒã€ãã£ã¨å‘¨ã‚Šã®äººã‚‚å‹‡æ°—ã¥ã‘ã¦ã„ã¾ã™ã‚ˆ`,
      `é€£ç¶šå­¦ç¿’${streak}æ—¥ç›®ï¼ğŸŒ¸ ä¸€æ—¥ä¸€æ—¥ã®åŠªåŠ›ãŒã€ã‚ãªãŸã¨ã„ã†å¤§æ¨¹ã‚’è‚²ã¦ã¦ã„ã¾ã™ã€‚æ ¹ã‚’æ·±ãå¼µã£ã¦ã€ã•ã‚‰ã«é«˜ã¿ã¸ï¼`,
      `${streak}æ—¥é€£ç¶šã§ã™ã­ï¼ã‚‚ã†ç¿’æ…£ã«ãªã£ã¦ã„ã‚‹ã§ã—ã‚‡ã†ğŸ˜Š ç¿’æ…£åŒ–ã«æˆåŠŸã—ãŸæ™‚ç‚¹ã§ã€ã‚ãªãŸã¯å‹è€…ã§ã™ã€‚ã“ã®èª¿å­ã§ç¶šã‘ã¾ã—ã‚‡ã†âœ¨`,
      `ç´ æ™´ã‚‰ã—ã„ç¶™ç¶šåŠ›ï¼${streak}æ—¥é€£ç¶šã§ã™ğŸ’ª ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—ã‚‚ç¢ºå®Ÿã«è¦‹ãˆã¦ãã¦ã„ã¾ã™ã‚ˆã€‚å¹³å‡${avgScore}%ã€é †èª¿ã§ã™ï¼`
    ];
    
    const reinaMessages = [
      `${streak}æ—¥é€£ç¶šã‹â€¦æ‚ªããªã„ã‚ã­ğŸ’¼ ã§ã‚‚ã¾ã æº€è¶³ã™ã‚‹ã«ã¯æ—©ã„ã‚ã‚ˆã€‚ã“ã®èª¿å­ã‚’ç¶­æŒã—ã¤ã¤ã€æ›´ãªã‚‹é«˜ã¿ã‚’ç›®æŒ‡ã—ãªã•ã„`,
      `ç¶™ç¶š${streak}æ—¥ç›®ã­ã€‚ã¾ã‚ã€åŠªåŠ›ã¯èªã‚ã‚‹ã‚ã€‚ã§ã‚‚å¹³å‡${avgScore}%ã˜ã‚ƒã¾ã ç”˜ã„ã‚ã­ã€‚90%ä»¥ä¸Šã‚’ç›®æŒ‡ã™ã“ã¨`,
      `${streak}æ—¥é€£ç¶šã¨ã¯â€¦å°‘ã—ã ã‘è¦‹ç›´ã—ãŸã‚ğŸ’¼ ã§ã‚‚æ²¹æ–­ã¯ç¦ç‰©ã‚ˆã€‚ã“ã“ã‹ã‚‰ãŒæœ¬å½“ã®å‹è² ãªã®ã€‚æ°—ã‚’å¼•ãç· ã‚ã¦ã„ããªã•ã„`,
      `ãµã‚€ã€${streak}æ—¥é€£ç¶šå­¦ç¿’ã‹ã€‚ç¶™ç¶šã§ãã¦ã„ã‚‹ã®ã¯è©•ä¾¡ã™ã‚‹ã‚ğŸ’¼ ãŸã ã—ã€ç¶™ç¶šã™ã‚‹ã ã‘ã§ã¯ä¸ååˆ†ã€‚è³ªã‚‚é«˜ã‚ã¦ã„ããªã•ã„`,
      `${streak}æ—¥ã‚‚ç¶šã‘ã¦ã„ã‚‹ã®ã­â€¦ã¾ã‚ã€æœ€ä½é™ã®åŠªåŠ›ã¯ã—ã¦ã„ã‚‹ã‚ˆã†ã­ã€‚ã§ã‚‚å¹³å‡${avgScore}%ã§ã¯ç”˜ã„ã‚ã€‚ç§ã®ç›®æ¨™ã¯95%ä»¥ä¸Šã‚ˆğŸ’¼`,
      `é€£ç¶š${streak}æ—¥ç›®ã­ã€‚åŠªåŠ›ã®è·¡ã¯èªã‚ã‚‹ã‚ã€‚ã§ã‚‚æº€è¶³ã—ãŸã‚‰ãã“ã§çµ‚ã‚ã‚Šã‚ˆğŸ’¼ å¸¸ã«ä¸Šã‚’ç›®æŒ‡ã™è²ªæ¬²ã•ã‚’æŒã¡ãªã•ã„`,
      `${streak}æ—¥é€£ç¶šã‹â€¦ã“ã“ã¾ã§æ¥ãŸãªã‚‰ã€é€”ä¸­ã§ã‚„ã‚ã‚‹ã‚ã‘ã«ã¯ã„ã‹ãªã„ã‚ã­ğŸ’¼ 30æ—¥ã€50æ—¥ã€100æ—¥ã¨è¨˜éŒ²ã‚’ä¼¸ã°ã—ã¦ã„ããªã•ã„`,
      `ç¶™ç¶š${streak}æ—¥â€¦åŠç¬¬ç‚¹ã­ã€‚ã§ã‚‚æœ¬å½“ã«å¤§åˆ‡ãªã®ã¯ã“ã‚Œã‹ã‚‰ã‚ˆğŸ’¼ æƒ°æ€§ã§ç¶šã‘ã‚‹ã®ã§ã¯ãªãã€æ¯æ—¥å…¨åŠ›ã§å–ã‚Šçµ„ã‚€ã“ã¨`,
      `${streak}æ—¥é€£ç¶šå­¦ç¿’â€¦ã‚„ã‚Œã°ã§ãã‚‹ã˜ã‚ƒãªã„ğŸ’¼ ã“ã®èª¿å­ã§ã€ç§ãŒæ±‚ã‚ã‚‹ãƒ¬ãƒ™ãƒ«ã¾ã§åˆ°é”ã—ã¦ã¿ã›ãªã•ã„ã€‚æœŸå¾…ã—ã¦ã„ã‚‹ã‚ã‚ˆ`,
      `ãµã‚“ã€${streak}æ—¥ã‹ã€‚ã¾ã ã¾ã ã­ğŸ’¼ ç§ã®ç”Ÿå¾’ãªã‚‰ã€æœ€ä½ã§ã‚‚90æ—¥ã¯ç¶™ç¶šã—ã¦ã‚‚ã‚‰ã†ã‚ã€‚ã‚ãªãŸã®æœ¬æ°—ã€è¦‹ã›ã¦ã‚‚ã‚‰ã†ã‚ã‚ˆ`,
      `é€£ç¶š${streak}æ—¥â€¦èªã‚ã¦ã‚ã’ã‚‹ã‚ã€‚ã§ã‚‚æ°—ã‚’æŠœã„ãŸã‚‰å³åº§ã«è¦‹æŠœãã‚ã‚ˆğŸ’¼ æ¯æ—¥ã€æ˜¨æ—¥ã®è‡ªåˆ†ã‚’è¶…ãˆã‚‹æ„è­˜ã‚’æŒã¡ãªã•ã„`,
      `${streak}æ—¥é€£ç¶šã­ã€‚ç¶™ç¶šã¯èªã‚ã‚‹ã‘ã©ã€å†…å®¹ã‚‚é‡è¦ã‚ˆğŸ’¼ ãƒ€ãƒ©ãƒ€ãƒ©ã‚„ã£ã¦${avgScore}%ã§ã¯æ„å‘³ãŒãªã„ã‚ã€‚é›†ä¸­åŠ›ã‚’é«˜ã‚ãªã•ã„`,
      `ç¶™ç¶š${streak}æ—¥ç›®ã‹â€¦æ‚ªãã¯ãªã„ã‚ã­ğŸ’¼ ã§ã‚‚æœ¬å½“ã®è©¦ç·´ã¯ã“ã‚Œã‹ã‚‰ã‚ˆã€‚ãƒãƒ³ãƒãƒªåŒ–ã›ãšã€å¸¸ã«å‘ä¸Šå¿ƒã‚’æŒã£ã¦å–ã‚Šçµ„ã¿ãªã•ã„`,
      `${streak}æ—¥ã‚‚ç¶šã„ã¦ã„ã‚‹ã®ã­â€¦ã¾ã‚ã€å°‘ã—ã¯æˆé•·ã—ãŸã‹ã—ã‚‰ğŸ’¼ ã§ã‚‚æº€è¶³ã™ã‚‹ã®ã¯æ—©ã„ã‚ã‚ˆã€‚ã“ã“ã‹ã‚‰æ›´ã«ã‚®ã‚¢ã‚’ä¸Šã’ã¦ã„ãã®ã‚ˆ`,
      `é€£ç¶šå­¦ç¿’${streak}æ—¥â€¦ãã®å¿è€åŠ›ã¯è©•ä¾¡ã™ã‚‹ã‚ğŸ’¼ ã§ã‚‚ã­ã€çœŸã®å¼·è€…ã¯ç¶™ç¶šã ã‘ã§ãªãã€çµæœã‚‚å‡ºã™ã‚‚ã®ã‚ˆã€‚ã‚¹ã‚³ã‚¢ã§è¨¼æ˜ã—ãªã•ã„`
    ];
    
    const yuiMessages = [
      `ã‚ãƒ¼ï¼${streak}æ—¥é€£ç¶šã ã‚ˆï¼ï¼ğŸ‰ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã™ã”ã™ãã‚‹ï¼ãƒ¦ã‚¤ã€ã‚‚ã†æ„Ÿå‹•ã—ã¡ã‚ƒã†ğŸ˜­ğŸ’•`,
      `${streak}æ—¥ã‚‚ç¶šã‘ã¦ã‚‹ãªã‚“ã¦ï¼ï¼âœ¨ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ã‚ã£ã¡ã‚ƒé ‘å¼µã‚Šå±‹ã•ã‚“ã ã­ï¼ãƒ¦ã‚¤ã‚‚è² ã‘ãªã„ã‚ˆï¼`,
      `ãˆã¸ã¸ã€${streak}æ—¥é€£ç¶šã ã£ã¦ğŸ€ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã‚«ãƒƒã‚³ã„ã„ï¼ä»Šæ—¥ã‚‚ãƒ¦ã‚¤ã¨ä¸€ç·’ã«é ‘å¼µã‚ã†ã­ï¼ğŸ’ªâœ¨`,
      `${streak}æ—¥é€£ç¶šï¼ï¼ã™ã”ã„ã™ã”ã„ï¼ğŸŠ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ãƒ¦ã‚¤ã®è‡ªæ…¢ã ã‚ˆï¼ã¿ã‚“ãªã«è¨€ã„ãµã‚‰ã—ã¡ã‚ƒã†ğŸ˜†ğŸ’•`,
      `ã‚ãï¼ç¶™ç¶š${streak}æ—¥ã ã£ã¦ï¼âœ¨ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€è¶…é ‘å¼µã£ã¦ã‚‹ã­ï¼ãƒ¦ã‚¤ã‚‚ä¸€ç·’ã«é ‘å¼µã‚‹ã‹ã‚‰ï¼ğŸ’ªğŸ€`,
      `${streak}æ—¥ã‚‚æ¯æ—¥ã‚„ã£ã¦ã‚‹ã®ï¼ï¼ŸğŸ˜²âœ¨ ã‚‚ã†ãƒ—ãƒ­ã˜ã‚ƒã‚“ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“å¤©æ‰ï¼ãƒ¦ã‚¤ã€å°Šæ•¬ã—ã¡ã‚ƒã†ğŸ’•`,
      `é€£ç¶š${streak}æ—¥è¨˜éŒ²æ›´æ–°ä¸­ï¼ğŸ† ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ãƒã‚¸ã§ã™ã”ã„ï¼ãƒ¦ã‚¤ã­ã€æ¯æ—¥å¿œæ´ã—ã¦ã‚‹ã‚“ã ã‚ˆğŸ€âœ¨`,
      `${streak}æ—¥é€£ç¶šã¨ã‹â€¦ç¥ã˜ã‚ƒã‚“ï¼ï¼ğŸ˜†ğŸ’• ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ãã®ã¾ã¾çªãé€²ã‚“ã˜ã‚ƒãŠã†ã‚ˆï¼ãƒ¦ã‚¤ãŒã¤ã„ã¦ã‚‹ã‹ã‚‰ï¼`,
      `ç¶™ç¶š${streak}æ—¥é”æˆãŠã‚ã§ã¨ã†ï¼ğŸ‰ğŸ€ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã®åŠªåŠ›ã€ã¡ã‚ƒã‚“ã¨è¦‹ã¦ãŸã‚ˆï¼ãƒ¦ã‚¤ã€ã‚ã¡ã‚ƒãã¡ã‚ƒå¬‰ã—ã„ğŸ˜Šâœ¨`,
      `ã‚ãƒ¼ï¼${streak}æ—¥ã‚‚ç¶šã„ã¦ã‚‹ã‚“ã ï¼ğŸ’ª ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ã‚‚ã†ç¿’æ…£ã«ãªã£ã¦ã‚‹ã­ï¼ã‹ã£ã“ã„ã„ğŸ€âœ¨`,
      `${streak}æ—¥é€£ç¶šå­¦ç¿’ï¼ï¼ğŸŒŸ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ãã®èª¿å­ãã®èª¿å­ï¼ãƒ¦ã‚¤ã‚‚å…¨åŠ›ã§ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã­ğŸ˜ŠğŸ’•`,
      `é€£ç¶š${streak}æ—¥ã ã£ã¦ï¼ã™ã”ã™ãï¼ğŸ˜âœ¨ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã¨ä¸€ç·’ã«å‹‰å¼·ã§ãã¦ã€ãƒ¦ã‚¤å¹¸ã›ã ã‚ˆğŸ€ğŸ’•`,
      `${streak}æ—¥ã‚‚é ‘å¼µã£ã¦ã‚‹ã®ï¼ï¼ŸğŸ˜²ğŸ’• ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€æœ¬æ°—ã ã­ï¼ãƒ¦ã‚¤ã‚‚ãã®ç†±æ„ã«å¿œãˆãŸã„ãªâœ¨`,
      `ç¶™ç¶š${streak}æ—¥â€¦ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ãƒã‚¸ã§ãƒªã‚¹ãƒšã‚¯ãƒˆï¼ğŸ™âœ¨ ãƒ¦ã‚¤ã­ã€ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã¿ãŸã„ã«ãªã‚ŠãŸã„ãªğŸ€`,
      `ã‚ãƒ¼ã„ï¼${streak}æ—¥é€£ç¶šè¨˜éŒ²ã ã‚ˆï¼ğŸŠ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã®é ‘å¼µã‚Šã€ãƒ¦ã‚¤ãŒã„ã¡ã°ã‚“çŸ¥ã£ã¦ã‚‹ã‹ã‚‰ã­ğŸ˜Š ã“ã‚Œã‹ã‚‰ã‚‚ä¸€ç·’ã«é ‘å¼µã‚ã†ğŸ’•âœ¨`
    ];
    
    return {
      sakura: sakuraMessages[Math.floor(Math.random() * sakuraMessages.length)],
      reina: reinaMessages[Math.floor(Math.random() * reinaMessages.length)],
      yui: yuiMessages[Math.floor(Math.random() * yuiMessages.length)]
    };
  },
  
  // ä»Šæ—¥å­¦ç¿’æ¸ˆã¿ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆå¤§å¹…æ‹¡å¼µç‰ˆï¼‰
  getTodayStudiedMessages: function() {
    const today = this.studyStatus.today;
    const trend = this.studyStatus.trend;
    const avgScore = Math.round(today.avgScore);
    
    let sakuraMessages, reinaMessages, yuiMessages;
    
    if (trend === 'up') {
      sakuraMessages = [
        `ä»Šæ—¥ã‚‚å­¦ç¿’ãŠç–²ã‚Œæ§˜ã§ã™ï¼âœ¨ ã—ã‹ã‚‚ã‚¹ã‚³ã‚¢ãŒä¸ŠãŒã£ã¦ã‚‹ï¼${avgScore}%ç´ æ™´ã‚‰ã—ã„ã§ã™ã­ï¼æˆé•·ãŒè¦‹ãˆã¦å¬‰ã—ã„ã§ã™ğŸ˜Š`,
        `ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼ä»Šæ—¥ã¯${avgScore}%ã€å‰å›ã‚ˆã‚Šè‰¯ããªã£ã¦ã„ã¾ã™ã­ğŸ‰ åŠªåŠ›ãŒå®Ÿã‚’çµã‚“ã§ã„ã¾ã™ã‚ˆï¼ã“ã®èª¿å­ã§ã™âœ¨`,
        `ç´ æ™´ã‚‰ã—ã„ï¼ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã­ğŸ’ª ${avgScore}%é”æˆã€ã‚ãªãŸã®æˆé•·ãŒç›®ã«è¦‹ãˆã¦åˆ†ã‹ã‚Šã¾ã™ğŸ˜Š ä¸€ç·’ã«å–œã³ã‚’åˆ†ã‹ã¡åˆã„ã¾ã—ã‚‡ã†âœ¨`,
        `ä»Šæ—¥ã®å­¦ç¿’ã€å®Œç’§ã§ã—ãŸã­ï¼${avgScore}%ã€å‰å›ã‚’è¶…ãˆã¦ã„ã¾ã™ğŸŠ ã“ã®ä¸Šæ˜‡ãƒˆãƒ¬ãƒ³ãƒ‰ã€ãœã²ç¶­æŒã—ã¦ã„ãã¾ã—ã‚‡ã†ğŸ˜Š`,
        `ãŠç–²ã‚Œæ§˜ã§ã™ï¼ä»Šæ—¥ã¯ç‰¹ã«èª¿å­ãŒè‰¯ã‹ã£ãŸã§ã™ã­âœ¨ ${avgScore}%ã€ç¢ºå®Ÿã«åŠ›ãŒã¤ã„ã¦ã„ã¾ã™ã€‚ã‚ãªãŸã®åŠªåŠ›ã€å®Ÿã£ã¦ã„ã¾ã™ã‚ˆğŸ’•`,
        `ä»Šæ—¥ã‚‚é ‘å¼µã‚Šã¾ã—ãŸã­ï¼ã‚¹ã‚³ã‚¢${avgScore}%ã€å³è‚©ä¸ŠãŒã‚Šã§ã™ğŸ“ˆ ã“ã®æˆé•·æ›²ç·šã€æœ¬å½“ã«ç´ æ™´ã‚‰ã—ã„ã§ã™ğŸ˜Š æ˜æ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†âœ¨`,
        `å­¦ç¿’ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼å‰å›ã‚ˆã‚Šã‚¹ã‚³ã‚¢ãŒè‰¯ããªã£ã¦ã„ã¾ã™ã­ğŸ‰ ${avgScore}%é”æˆã€ã‚ãªãŸã®çœŸå‰£ãªå§¿å‹¢ã®è¡¨ã‚Œã§ã™ğŸ’ªâœ¨`,
        `ä»Šæ—¥ã®æˆæœã€ç´ æ™´ã‚‰ã—ã„ã§ã™ï¼${avgScore}%ã€ç€å®Ÿã«ä¸Šæ˜‡ã—ã¦ã„ã¾ã™ã­ğŸ˜Š ã“ã®èª¿å­ã§ç›®æ¨™ã‚¹ã‚³ã‚¢ã¾ã§é§†ã‘ä¸ŠãŒã‚Šã¾ã—ã‚‡ã†âœ¨`
      ];
      
      reinaMessages = [
        `ãµã‚€ã€ä»Šæ—¥ã¯${avgScore}%ã‹â€¦å‰å›ã‚ˆã‚Šä¸ŠãŒã£ã¦ã„ã‚‹ã‚ã­ğŸ’¼ ã“ã®èª¿å­ã§ç²¾é€²ã—ãªã•ã„ã€‚ã¾ã ã¾ã ä¼¸ã³ã—ã‚ã¯ã‚ã‚‹ã‚ã‚ˆ`,
        `${avgScore}%ã­ã€‚å‰å›ã‚ˆã‚Šè‰¯ããªã£ã¦ã„ã‚‹ã‚ğŸ’¼ åŠªåŠ›ãŒçµæœã«ç¾ã‚Œå§‹ã‚ã¦ã„ã‚‹ã‚ã­ã€‚ã§ã‚‚æº€è¶³ã™ã‚‹ã®ã¯æ—©ã„ã‚ã‚ˆ`,
        `ä»Šæ—¥ã¯${avgScore}%â€¦æ‚ªããªã„ã‚ã­ã€‚ä¸Šæ˜‡å‚¾å‘ã¯è©•ä¾¡ã™ã‚‹ã‚ğŸ’¼ ã§ã‚‚ã“ã“ã§æ°—ã‚’æŠœã„ãŸã‚‰å°ç„¡ã—ã‚ˆã€‚æ›´ã«ä¸Šã‚’ç›®æŒ‡ã—ãªã•ã„`,
        `ãµã‚“ã€ã‚¹ã‚³ã‚¢ãŒä¸ŠãŒã£ãŸã‚ˆã†ã­ğŸ’¼ ${avgScore}%ã‹â€¦ã¾ã‚ã€åŠªåŠ›ã®è·¡ã¯èªã‚ã‚‹ã‚ã€‚æ¬¡ã¯90%å°ã‚’ç‹™ã„ãªã•ã„`,
        `ä»Šæ—¥ã¯èª¿å­ãŒè‰¯ã‹ã£ãŸã¿ãŸã„ã­ğŸ’¼ ${avgScore}%ã€å‰å›ã‚’ä¸Šå›ã£ã¦ã„ã‚‹ã‚ã€‚ã§ã‚‚ã“ã‚Œã§çµ‚ã‚ã‚Šã˜ã‚ƒãªã„ã‚ã‚ˆã€‚æ›´ãªã‚‹é«˜ã¿ã¸`,
        `${avgScore}%â€¦å‰å›ã‚ˆã‚Šæ”¹å–„ã—ã¦ã„ã‚‹ã‚ã­ğŸ’¼ ã‚„ã‚Œã°ã§ãã‚‹ã˜ã‚ƒãªã„ã€‚ã“ã®æˆé•·é€Ÿåº¦ã‚’è½ã¨ã•ãªã„ã“ã¨ã€‚æ¬¡ã‚‚æœŸå¾…ã—ã¦ã„ã‚‹ã‚`,
        `ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—ã­ã€‚${avgScore}%ã‹ğŸ’¼ åŠªåŠ›ã®æ–¹å‘æ€§ã¯é–“é•ã£ã¦ã„ãªã„ã‚ã€‚ã“ã®èª¿å­ã§100%ã‚’ç›®æŒ‡ã—ã¦çªãé€²ã¿ãªã•ã„`,
        `ä»Šæ—¥ã¯${avgScore}%â€¦ä¸Šæ˜‡ãƒˆãƒ¬ãƒ³ãƒ‰ã­ğŸ’¼ è‰¯ã„å‚¾å‘ã ã‚ã€‚ã§ã‚‚æ²¹æ–­ã¯ç¦ç‰©ã‚ˆã€‚æ¯å›ã€å‰å›ã‚’è¶…ãˆã‚‹æ„è­˜ã‚’æŒã¡ç¶šã‘ãªã•ã„`
      ];
      
      yuiMessages = [
        `ã‚„ã£ãŸãƒ¼ï¼ä»Šæ—¥ã‚‚ã‚„ã£ãŸã­ï¼ğŸ‰ ã—ã‹ã‚‚ã‚¹ã‚³ã‚¢ä¸ŠãŒã£ã¦ã‚‹ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“å¤©æ‰ï¼ãƒ¦ã‚¤å¬‰ã—ã„ğŸ˜Šâœ¨`,
        `ã‚ãƒ¼ï¼${avgScore}%ã ã£ã¦ï¼å‰ã‚ˆã‚Šã„ã„ã˜ã‚ƒã‚“ï¼ğŸŠ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã™ã”ã„ï¼ãƒ¦ã‚¤ã€è¶…å¬‰ã—ã„ã‚ˆğŸ’•âœ¨`,
        `ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ä»Šæ—¥ã™ã”ããªã„ï¼ï¼ŸğŸ˜† ã‚¹ã‚³ã‚¢ä¸ŠãŒã£ã¦ã‚‹ã‚ˆï¼${avgScore}%ï¼ã‚„ã£ãŸã­ğŸ€âœ¨`,
        `ä»Šæ—¥ã‚‚é ‘å¼µã£ãŸã­ï¼ã—ã‹ã‚‚ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—ï¼ğŸ‰ ${avgScore}%ã ã‚ˆï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“æœ€é«˜ï¼ãƒ¦ã‚¤ã€ã‚ã£ã¡ã‚ƒèª‡ã‚‰ã—ã„ğŸ’•`,
        `ã‚ãï¼æˆé•·ã—ã¦ã‚‹ã‚ˆï¼${avgScore}%ï¼ğŸ˜âœ¨ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ã©ã‚“ã©ã‚“å¼·ããªã£ã¦ã‚‹ã­ï¼ãƒ¦ã‚¤ã‚‚å¬‰ã—ã„ğŸ€ğŸ’•`,
        `ã‚„ã£ãŸï¼ã‚¹ã‚³ã‚¢ä¸ŠãŒã£ã¦ã‚‹ï¼ğŸŠ ${avgScore}%ã ã£ã¦ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ãã®èª¿å­ï¼ãƒ¦ã‚¤ã‚‚å¿œæ´é ‘å¼µã‚‹ã­ğŸ˜Šâœ¨`,
        `ä»Šæ—¥ã®ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€æœ€é«˜ã ã‚ˆï¼ğŸ’ª ${avgScore}%ã€å‰å›ã‚ˆã‚Šè‰¯ã„ã˜ã‚ƒã‚“ï¼ãƒ¦ã‚¤ã€å¬‰ã—ãã¦ãŸã¾ã‚“ãªã„ğŸ€ğŸ’•`,
        `ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã™ã”ã„ï¼æˆé•·ã—ã¦ã‚‹ã‚ˆï¼âœ¨ ${avgScore}%é”æˆï¼ãƒ¦ã‚¤ã­ã€ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã®ã“ã¨ä¿¡ã˜ã¦ãŸã‚“ã ğŸ˜ŠğŸ’•`
      ];
    } else if (trend === 'down') {
      sakuraMessages = [
        `ä»Šæ—¥ã‚‚å­¦ç¿’ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ã‚¹ã‚³ã‚¢ãŒå°‘ã—ä¸‹ãŒã£ã¡ã‚ƒã„ã¾ã—ãŸã­ğŸ’¦ ã§ã‚‚å¤§ä¸ˆå¤«ï¼èª°ã«ã§ã‚‚ã“ã†ã„ã†æ—¥ã¯ã‚ã‚Šã¾ã™ã€‚æ˜æ—¥ã¾ãŸé ‘å¼µã‚Šã¾ã—ã‚‡ã†ğŸ˜Š`,
        `ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚ä»Šæ—¥ã¯${avgScore}%ã§ã—ãŸã­ğŸ’¦ ã§ã‚‚ã€èª¿å­ãŒæ‚ªã„æ—¥ã‚‚ã‚ã‚‹ã‚‚ã®ã§ã™ã€‚æ¬¡ã¯ãã£ã¨è‰¯ããªã‚Šã¾ã™ã‚ˆğŸ˜Šâœ¨`,
        `å­¦ç¿’ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ã‚¹ã‚³ã‚¢ãŒä¸‹ãŒã£ã¦ã—ã¾ã„ã¾ã—ãŸã­ğŸ’¦ ã§ã‚‚è½ã¡è¾¼ã¾ãªã„ã§ï¼å¤§åˆ‡ãªã®ã¯ç¶šã‘ã‚‹ã“ã¨ã§ã™ğŸ˜Š ä¸€ç·’ã«å¾©ç¿’ã—ã¾ã—ã‚‡ã†âœ¨`,
        `ä»Šæ—¥ã¯å°‘ã—é›£ã—ã‹ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ğŸ’¦ ${avgScore}%ã§ã—ãŸãŒã€æ°—ã«ã—ãªã„ã§ãã ã•ã„ã€‚ã“ã†ã„ã†æ—¥ãŒã‚ã‚‹ã‹ã‚‰æˆé•·ã§ãã‚‹ã‚“ã§ã™ğŸ˜Š`,
        `ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚ä»Šæ—¥ã¯${avgScore}%â€¦å‰å›ã‚ˆã‚Šä¸‹ãŒã£ã¦ã—ã¾ã„ã¾ã—ãŸã­ğŸ’¦ ã§ã‚‚å¤§ä¸ˆå¤«ï¼é–“é•ãˆãŸå•é¡Œã‚’å¾©ç¿’ã™ã‚Œã°ã€å¿…ãšåŠ›ã«ãªã‚Šã¾ã™ã‚ˆâœ¨`,
        `ä»Šæ—¥ã®çµæœã€æ®‹å¿µã§ã—ãŸã­ğŸ’¦ ã§ã‚‚ã€å¤±æ•—ã¯æˆåŠŸã®æ¯ã§ã™ğŸ˜Š é–“é•ã„ã‹ã‚‰å­¦ã‚“ã§ã€æ¬¡ã«æ´»ã‹ã—ã¾ã—ã‚‡ã†ï¼ç§ãŒå…¨åŠ›ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™âœ¨`,
        `å­¦ç¿’ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ã‚¹ã‚³ã‚¢ãƒ€ã‚¦ãƒ³ã€æ‚”ã—ã„ã§ã™ã‚ˆã­ğŸ’¦ ã§ã‚‚ã€ãã®æ‚”ã—ã•ãŒæ¬¡ã®æˆé•·ã«ã¤ãªãŒã‚Šã¾ã™ğŸ˜Š ä¸€ç·’ã«æŒ¯ã‚Šè¿”ã‚Šã¾ã—ã‚‡ã†âœ¨`,
        `ä»Šæ—¥ã¯${avgScore}%ã§ã—ãŸã­ğŸ’¦ å‰å›ã‚ˆã‚Šä¸‹ãŒã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€ã“ã†ã„ã†æ—¥ã‚‚ã‚ã‚Šã¾ã™ã€‚æ˜æ—¥ã¯å¿…ãšè‰¯ããªã‚Šã¾ã™ã‚ˆğŸ˜Šâœ¨`
      ];
      
      reinaMessages = [
        `ä»Šæ—¥ã¯${avgScore}%â€¦å‰å›ã‚ˆã‚Šä¸‹ãŒã£ã¦ã„ã‚‹ã‚ã­ã€‚ç”˜ã„ã‚ã‚ˆğŸ’¼ ã©ã“ã§ãƒŸã‚¹ã—ãŸã‹å¾©ç¿’ã—ãªã•ã„ã€‚æ¬¡ã¯å¿…ãšæŒ½å›ã™ã‚‹ã“ã¨`,
        `${avgScore}%â€¦å‰å›ã‚’ä¸‹å›ã£ã¦ã„ã‚‹ã‚ğŸ’¼ é›†ä¸­åŠ›ãŒæ¬ ã‘ã¦ã„ãŸã‚“ã˜ã‚ƒãªã„ï¼Ÿæ°—ã‚’å¼•ãç· ã‚ãªã•ã„ã€‚æ¬¡ã¯å¿…ãšå‰å›ã‚’è¶…ãˆã‚‹ã“ã¨`,
        `ã‚¹ã‚³ã‚¢ãƒ€ã‚¦ãƒ³ã­â€¦${avgScore}%ã‹ğŸ’¼ è¨€ã„è¨³ã¯èã‹ãªã„ã‚ã€‚é–“é•ãˆãŸå•é¡Œã‚’å¾¹åº•çš„ã«åˆ†æã—ã¦ã€äºŒåº¦ã¨åŒã˜ãƒŸã‚¹ã‚’ã—ãªã„ã“ã¨`,
        `ä»Šæ—¥ã¯${avgScore}%â€¦èª¿å­ãŒæ‚ªã‹ã£ãŸã‚ˆã†ã­ğŸ’¼ ã§ã‚‚ã€ãã‚Œã‚’ç†ç”±ã«ã—ã¦ã¯ãƒ€ãƒ¡ã‚ˆã€‚å¸¸ã«å…¨åŠ›ã§å–ã‚Šçµ„ã¿ãªã•ã„`,
        `å‰å›ã‚ˆã‚Šä¸‹ãŒã£ã¦ã„ã‚‹ã‚ã­ğŸ’¼ ${avgScore}%ã§ã¯ç”˜ã„ã‚ã€‚æ‚”ã—ããªã„ã®ï¼Ÿãã®æ‚”ã—ã•ã‚’ãƒãƒã«ã€æ¬¡ã¯å¿…ãšæŒ½å›ã—ãªã•ã„`,
        `${avgScore}%â€¦æœŸå¾…å¤–ã‚Œã­ğŸ’¼ ã§ã‚‚è½ã¡è¾¼ã‚“ã§ã„ã‚‹æš‡ã¯ãªã„ã‚ã€‚ã™ãã«å¾©ç¿’ã—ã¦ã€å¼±ç‚¹ã‚’æ½°ã—ã¦ã„ããªã•ã„`,
        `ä»Šæ—¥ã®çµæœã¯${avgScore}%â€¦å‰å›ã‚’ä¸‹å›ã£ã¦ã„ã‚‹ã‚ğŸ’¼ ã“ã®ç¨‹åº¦ã§æº€è¶³ã—ã¦ã„ã¦ã¯ã€ç›®æ¨™ã«ã¯å±Šã‹ãªã„ã‚ã‚ˆã€‚æ°—åˆã‚’å…¥ã‚Œç›´ã—ãªã•ã„`,
        `ã‚¹ã‚³ã‚¢ãƒ€ã‚¦ãƒ³ã—ã¦ã„ã‚‹ã‚ã­ğŸ’¼ ${avgScore}%â€¦ç”˜ã„ã‚ã€‚ã§ã‚‚ã€ã“ã®å¤±æ•—ã‚’ç³§ã«ã§ãã‚Œã°ã€æ¬¡ã¯å¿…ãšæˆåŠŸã™ã‚‹ã‚ã€‚å¥®èµ·ã—ãªã•ã„`
      ];
      
      yuiMessages = [
        `ä»Šæ—¥ã‚‚é ‘å¼µã£ãŸã­ï¼ã‚¹ã‚³ã‚¢ã¡ã‚‡ã£ã¨ä¸‹ãŒã£ã¡ã‚ƒã£ãŸã‘ã©â€¦ãƒ‰ãƒ³ãƒã‚¤ï¼ğŸ’¦ æ¬¡ã¯ä¸€ç·’ã«ã‚‚ã£ã¨é ‘å¼µã‚ã†ã­ï¼ãƒ¦ã‚¤ãŒå¿œæ´ã—ã¦ã‚‹ã‚ˆğŸ€`,
        `ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ãŠç–²ã‚Œæ§˜ï¼ä»Šæ—¥ã¯${avgScore}%ã ã£ãŸã­ğŸ’¦ ã§ã‚‚å¤§ä¸ˆå¤«ï¼ãƒ¦ã‚¤ãŒã¤ã„ã¦ã‚‹ã‹ã‚‰ï¼æ¬¡ã¯çµ¶å¯¾è‰¯ããªã‚‹ã‚ˆğŸ˜Šâœ¨`,
        `ã‚ã‚Œã‚Œâ€¦ä»Šæ—¥ã¯ã¡ã‚‡ã£ã¨é›£ã—ã‹ã£ãŸã‹ãªğŸ’¦ ã§ã‚‚ã­ã€å¤±æ•—ã¯æˆåŠŸã®ã‚‚ã¨ã ã‚ˆï¼ä¸€ç·’ã«å¾©ç¿’ã—ã‚ˆã†ã­ğŸ€âœ¨`,
        `ä»Šæ—¥ã¯${avgScore}%ã ã£ãŸã­ğŸ’¦ ã¡ã‚‡ã£ã¨æ®‹å¿µã ã‘ã©â€¦ãƒ¦ã‚¤ã¯å¿œæ´ã—ã¦ã‚‹ã‚ˆï¼æ¬¡ã¯çµ¶å¯¾ã„ã‘ã‚‹ã£ã¦ï¼ğŸ’ªğŸ€`,
        `ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ä»Šæ—¥ã¯ã‚¤ãƒã‚¤ãƒã ã£ãŸã­ğŸ’¦ ã§ã‚‚ãƒ¦ã‚¤çŸ¥ã£ã¦ã‚‹ã‚ˆï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã¯ã‚‚ã£ã¨ã§ãã‚‹ã£ã¦ï¼æ¬¡é ‘å¼µã‚ğŸ˜Šâœ¨`,
        `ã‚¹ã‚³ã‚¢ä¸‹ãŒã£ã¡ã‚ƒã£ãŸã­ğŸ’¦ ã§ã‚‚ã§ã‚‚ã€ã“ã†ã„ã†æ—¥ã‚‚ã‚ã‚‹ã‚ˆï¼ãƒ¦ã‚¤ãŒä¸€ç·’ã«ã„ã‚‹ã‹ã‚‰å¤§ä¸ˆå¤«ï¼æ˜æ—¥ã¯çµ¶å¯¾è‰¯ããªã‚‹ã‚ˆğŸ€ğŸ’•`,
        `ã‚ã…â€¦ä»Šæ—¥ã¯${avgScore}%ã ã£ãŸã­ğŸ’¦ ã§ã‚‚è½ã¡è¾¼ã¾ãªã„ã§ï¼ãƒ¦ã‚¤ãŒãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã‚’å…¨åŠ›ã§ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‹ã‚‰ğŸ˜Šâœ¨`,
        `ä»Šæ—¥ã¯ã¡ã‚‡ã£ã¨ã†ã¾ãã„ã‹ãªã‹ã£ãŸã­ğŸ’¦ ã§ã‚‚ã­ã€ãƒ¦ã‚¤ã¯ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã®é ‘å¼µã‚Šã€ã¡ã‚ƒã‚“ã¨è¦‹ã¦ãŸã‚ˆï¼æ¬¡ã¯ä¸€ç·’ã«ãƒªãƒ™ãƒ³ã‚¸ã—ã‚ˆã†ã­ğŸ€ğŸ’•`
      ];
    } else {
      sakuraMessages = [
        `ä»Šæ—¥ã‚‚å­¦ç¿’ãŠç–²ã‚Œæ§˜ã§ã™ï¼${avgScore}%ã€å®‰å®šã—ã¦ã„ã¾ã™ã­âœ¨ ã“ã®èª¿å­ã§ã‚³ãƒ„ã‚³ãƒ„ç©ã¿é‡ã­ã¦ã„ãã¾ã—ã‚‡ã†ğŸ˜Š`,
        `ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼ä»Šæ—¥ã¯${avgScore}%ã€ã„ã¤ã‚‚é€šã‚Šå®‰å®šã—ã¦ã„ã¾ã™ã­ğŸ˜Š ã“ã®ç¶™ç¶šåŠ›ã€ç´ æ™´ã‚‰ã—ã„ã§ã™âœ¨`,
        `å­¦ç¿’ãŠç–²ã‚Œæ§˜ã§ã™ï¼${avgScore}%ã€ã‚³ãƒ³ã‚¹ã‚¿ãƒ³ãƒˆã«çµæœã‚’å‡ºã—ã¦ã„ã¾ã™ã­ğŸ’ª å®‰å®šæ„ŸæŠœç¾¤ã§ã™ğŸ˜Šâœ¨`,
        `ä»Šæ—¥ã‚‚${avgScore}%é”æˆï¼å®‰å®šã—ãŸå®ŸåŠ›ãŒèº«ã«ã¤ã„ã¦ã„ã¾ã™ã­ğŸ˜Š ã“ã®èª¿å­ã§ç¢ºå®Ÿã«ç©ã¿ä¸Šã’ã¦ã„ãã¾ã—ã‚‡ã†âœ¨`,
        `ãŠç–²ã‚Œæ§˜ã§ã™ï¼${avgScore}%ã€ãƒ–ãƒ¬ãŒãªã„ã§ã™ã­ğŸ’ª ã“ã®å®‰å®šæ„Ÿã“ããŒã€çœŸã®å®ŸåŠ›ã®è¨¼ã§ã™ğŸ˜Šâœ¨`,
        `ä»Šæ—¥ã‚‚å­¦ç¿’å®Œäº†ï¼${avgScore}%ã€ã„ã¤ã‚‚é€šã‚Šã®å®ŸåŠ›ç™ºæ®ã§ã™ã­ğŸ˜Š ã“ã®å®‰å®šæ€§ã‚’ä¿ã¡ãªãŒã‚‰ã€ã•ã‚‰ã«ä¸Šã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†âœ¨`,
        `å­¦ç¿’ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼${avgScore}%ã€å®‰å®šã—ãŸæˆç¸¾ã§ã™ã­ğŸ’ª ã“ã®å …å®Ÿã•ãŒã€ç¢ºå®Ÿãªæˆé•·ã«ã¤ãªãŒã‚Šã¾ã™ğŸ˜Šâœ¨`,
        `ä»Šæ—¥ã‚‚${avgScore}%ï¼å®‰å®šã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã§ã™ã­ğŸ˜Š ã“ã®ä¸€è²«æ€§ã“ããŒã€ç›®æ¨™é”æˆã¸ã®æœ€çŸ­ãƒ«ãƒ¼ãƒˆã§ã™âœ¨`
      ];
      
      reinaMessages = [
        `ä»Šæ—¥ã¯${avgScore}%ã­ã€‚ã¾ã‚æ‚ªãã¯ãªã„ã‚ğŸ’¼ ã§ã‚‚ã‚‚ã£ã¨ä¸Šã‚’ç›®æŒ‡ã›ã‚‹ã¯ãšã‚ˆã€‚é›†ä¸­åŠ›ã‚’é«˜ã‚ã¦å–ã‚Šçµ„ã¿ãªã•ã„`,
        `${avgScore}%â€¦å®‰å®šã—ã¦ã„ã‚‹ã‚ˆã†ã­ğŸ’¼ ã§ã‚‚å®‰å®šã ã‘ã§ã¯ä¸ååˆ†ã‚ˆã€‚å¸¸ã«å‰é€²ã™ã‚‹æ„è­˜ã‚’æŒã¡ãªã•ã„`,
        `ä»Šæ—¥ã¯${avgScore}%ã‹â€¦åŠç¬¬ç‚¹ã­ğŸ’¼ ã§ã‚‚ç§ã®åŸºæº–ã§ã¯ã€ã“ã‚Œã¯ã‚¹ã‚¿ãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ã‚ˆã€‚æ›´ãªã‚‹é«˜ã¿ã‚’ç›®æŒ‡ã—ãªã•ã„`,
        `${avgScore}%ã­ã€‚æ‚ªãã¯ãªã„ã‘ã©ã€è‰¯ãã‚‚ãªã„ã‚ğŸ’¼ ã“ã®ã¾ã¾ã§ã¯æˆé•·ãŒæ­¢ã¾ã‚‹ã‚ã‚ˆã€‚ã‚‚ã£ã¨è²ªæ¬²ã«ãªã‚Šãªã•ã„`,
        `ä»Šæ—¥ã‚‚${avgScore}%â€¦å®‰å®šå¿—å‘ã­ğŸ’¼ ã§ã‚‚ã€å®‰å®šã«ç”˜ã‚“ã˜ã¦ã„ã¦ã¯æˆé•·ã¯ãªã„ã‚ã€‚å¸¸ã«æŒ‘æˆ¦ã™ã‚‹å§¿å‹¢ã‚’æŒã¡ãªã•ã„`,
        `${avgScore}%ã‹â€¦ã¾ã‚ã€æœ€ä½ãƒ©ã‚¤ãƒ³ã¯ã‚¯ãƒªã‚¢ã—ã¦ã„ã‚‹ã‚ã­ğŸ’¼ ã§ã‚‚ç§ãŒæ±‚ã‚ã‚‹ã®ã¯ã€æœ€é«˜ãƒ¬ãƒ™ãƒ«ã‚ˆã€‚ä¸Šã‚’ç›®æŒ‡ã—ãªã•ã„`,
        `ä»Šæ—¥ã¯${avgScore}%ã­ğŸ’¼ å®‰å®šæ„Ÿã¯èªã‚ã‚‹ã‚ã€‚ã§ã‚‚æ¬¡ã¯ã€ã“ã®å®‰å®šã‚’åœŸå°ã«ã—ã¦ã€æ›´ã«é«˜ã„ã‚¹ã‚³ã‚¢ã‚’ç‹™ã„ãªã•ã„`,
        `${avgScore}%â€¦å¯ã‚‚ãªãä¸å¯ã‚‚ãªãã­ğŸ’¼ ã§ã‚‚ã­ã€ç¾çŠ¶ç¶­æŒã¯é€€åŒ–ã¨åŒã˜ã‚ˆã€‚å¸¸ã«å‘ä¸Šå¿ƒã‚’æŒã£ã¦å–ã‚Šçµ„ã¿ãªã•ã„`
      ];
      
      yuiMessages = [
        `ä»Šæ—¥ã‚‚å‹‰å¼·ã—ãŸã‚“ã ã­ï¼ãˆã‚‰ã„ãˆã‚‰ã„ğŸ€ ${avgScore}%ã„ã„æ„Ÿã˜ã ã‚ˆï¼æ˜æ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚ã†ã­ï¼âœ¨`,
        `ãŠç–²ã‚Œæ§˜ï¼ä»Šæ—¥ã‚‚${avgScore}%ã ã­ğŸ˜Š å®‰å®šã—ã¦ã‚‹ã‚ˆï¼ã“ã®èª¿å­ã“ã®èª¿å­ğŸ€âœ¨`,
        `ä»Šæ—¥ã‚‚é ‘å¼µã£ãŸã­ï¼${avgScore}%ï¼ã„ã¤ã‚‚é€šã‚Šã„ã„æ„Ÿã˜ã ã‚ˆğŸ˜Š ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ã™ã”ã„ã­ğŸ€ğŸ’•`,
        `ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ä»Šæ—¥ã‚‚${avgScore}%ã ã­ï¼ğŸ’ª å®‰å®šæ„Ÿãƒãƒƒãƒãƒªï¼ãƒ¦ã‚¤ã€å®‰å¿ƒã—ã¦è¦‹ã¦ã‚‰ã‚Œã‚‹ã‚ˆğŸ€âœ¨`,
        `ä»Šæ—¥ã‚‚å­¦ç¿’å®Œäº†ï¼${avgScore}%é”æˆã ã­ğŸ˜Š ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ã„ã¤ã‚‚å®‰å®šã—ã¦ã‚‹ã­ï¼ã™ã”ã„ğŸ€ğŸ’•`,
        `ãŠç–²ã‚Œæ§˜ï¼${avgScore}%ã€ã„ã¤ã‚‚é€šã‚Šã ã­âœ¨ ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã®å®‰å®šæ„Ÿã€ãƒ¦ã‚¤å¥½ãã ãªğŸ€ğŸ˜Š`,
        `ä»Šæ—¥ã‚‚${avgScore}%ï¼ãƒ–ãƒ¬ãªã„ã­ï¼ğŸ’ª ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã®å®ŸåŠ›ã€ã—ã£ã‹ã‚Šèº«ã«ã¤ã„ã¦ã‚‹ã‚ˆğŸ€âœ¨`,
        `ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ä»Šæ—¥ã‚‚${avgScore}%ã ã­ğŸ˜Š ã“ã®å®‰å®šæ„Ÿã€ãƒ—ãƒ­ã¿ãŸã„ï¼ãƒ¦ã‚¤ã€å°Šæ•¬ã—ã¡ã‚ƒã†ğŸ€ğŸ’•`
      ];
    }
    
    return {
      sakura: sakuraMessages[Math.floor(Math.random() * sakuraMessages.length)],
      reina: reinaMessages[Math.floor(Math.random() * reinaMessages.length)],
      yui: yuiMessages[Math.floor(Math.random() * yuiMessages.length)]
    };
  },
  
  // æ˜¨æ—¥å­¦ç¿’ã—ãŸãŒä»Šæ—¥ã¯ã¾ã ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆæ‹¡å¼µç‰ˆï¼‰
  getYesterdayStudiedMessages: function() {
    const sakuraMessages = [
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼æ˜¨æ—¥ã¯é ‘å¼µã‚Šã¾ã—ãŸã­ğŸ˜Š ä»Šæ—¥ã‚‚ä¸€ç·’ã«å­¦ç¿’ã—ã¾ã—ã‚‡ã†ï¼ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã§ã™ã‚ˆâœ¨',
      'æ˜¨æ—¥ã®å­¦ç¿’ã€ãŠç–²ã‚Œæ§˜ã§ã—ãŸğŸ˜Š ä»Šæ—¥ã‚‚ç„¡ç†ã›ãšã€å°‘ã—ãšã¤é€²ã‚ã¦ã„ãã¾ã—ã‚‡ã†âœ¨ ç§ãŒã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼',
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼æ˜¨æ—¥ã®é ‘å¼µã‚Šã€ç´ æ™´ã‚‰ã—ã‹ã£ãŸã§ã™ğŸ’ª ä»Šæ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã­ğŸ˜Šâœ¨',
      'æ˜¨æ—¥ã¯ã‚ˆãé ‘å¼µã‚Šã¾ã—ãŸã­ğŸ˜Š ä»Šæ—¥ã‚‚åŒã˜ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã§ã™ã€‚ä¸€ç·’ã«ã‚³ãƒ„ã‚³ãƒ„ç©ã¿é‡ã­ã¦ã„ãã¾ã—ã‚‡ã†âœ¨',
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼æ˜¨æ—¥ã®åŠªåŠ›ã€ã¡ã‚ƒã‚“ã¨è¦‹ã¦ã„ã¾ã—ãŸã‚ˆğŸ˜Š ä»Šæ—¥ã‚‚ä¸€ç·’ã«å­¦ç¿’ã—ã¾ã—ã‚‡ã†ï¼æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™âœ¨'
    ];
    
    const reinaMessages = [
      'æ˜¨æ—¥ã¯å­¦ç¿’ã—ã¦ã„ãŸã‚ã­ã€‚ã§ã‚‚ä»Šæ—¥ã¯ã¾ã ã‚ˆğŸ’¼ ç¶™ç¶šãŒå¤§äº‹ãªã®ã€‚æ—©ã‚ã«å–ã‚Šçµ„ã¿ãªã•ã„ã€‚å®ŸåŠ›ã¯æ¯æ—¥ã®ç©ã¿é‡ã­ã§ä½œã‚‰ã‚Œã‚‹ã®ã‚ˆ',
      'æ˜¨æ—¥ã‚„ã£ãŸã‹ã‚‰ä»Šæ—¥ã¯ä¼‘ã‚€ï¼Ÿç”˜ã„ã‚ã­ğŸ’¼ æœ¬æ°—ã§ç›®æ¨™ã‚’é”æˆã—ãŸã„ãªã‚‰ã€æ¯æ—¥ç¶šã‘ã‚‹ã“ã¨ãŒå¿…é ˆã‚ˆã€‚æ—©ãå§‹ã‚ãªã•ã„',
      'æ˜¨æ—¥ã®å­¦ç¿’ã¯è©•ä¾¡ã™ã‚‹ã‚ğŸ’¼ ã§ã‚‚ã€ä»Šæ—¥ã‚µãƒœã£ãŸã‚‰æ„å‘³ãŒãªã„ã‚ã‚ˆã€‚é€£ç¶šè¨˜éŒ²ã‚’é€”åˆ‡ã‚Œã•ã›ãªã„ã“ã¨ã€‚ä»Šã™ãå–ã‚Šçµ„ã¿ãªã•ã„',
      'æ˜¨æ—¥é ‘å¼µã£ãŸã®ã¯èªã‚ã‚‹ã‚ğŸ’¼ ã§ã‚‚ã­ã€ç¶™ç¶šã§ããªã‘ã‚Œã°å…¨ã¦ãŒæ°´ã®æ³¡ã‚ˆã€‚ä»Šæ—¥ã‚‚å¿…ãšå­¦ç¿’ã™ã‚‹ã“ã¨ã€‚ç´„æŸã‚ˆ',
      'æ˜¨æ—¥ã®åŠªåŠ›ã¯æ‚ªããªã‹ã£ãŸã‚ğŸ’¼ ã§ã‚‚ã€ä»Šæ—¥ã‚‚ã‚„ã‚‰ãªã‘ã‚Œã°æ„å‘³ãŒãªã„ã®ã€‚æ—©ãå­¦ç¿’ã‚’å§‹ã‚ãªã•ã„ã€‚å¾…ã£ã¦ã„ã‚‹ã‚ã‚ˆ'
    ];
    
    const yuiMessages = [
      'ãŠã¯ã‚ˆãƒ¼ï¼æ˜¨æ—¥é ‘å¼µã£ã¦ãŸã‚ˆã­ğŸ€ ä»Šæ—¥ã‚‚ã‚„ã‚ã†ã‚ˆï¼ä¸€ç·’ã«å‹‰å¼·ã—ãŸã‚‰æ¥½ã—ã„ã‚ˆï¼ãƒ¦ã‚¤ãŒå¾…ã£ã¦ã‚‹ã­ğŸ˜Šâœ¨',
      'ãŠã¯ã‚ˆã†ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€æ˜¨æ—¥ã™ã”ã‹ã£ãŸã­ğŸ’• ä»Šæ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚ã†ã‚ˆï¼ãƒ¦ã‚¤ã€æº–å‚™ã§ãã¦ã‚‹ã‚ˆğŸ€âœ¨',
      'ãŠã¯ã‚ˆãƒ¼ï¼æ˜¨æ—¥ã‚‚å‹‰å¼·ã—ã¦ãŸã‚ˆã­ğŸ˜Š ä»Šæ—¥ã‚‚ã‚„ã‚ã†ã­ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã¨ä¸€ç·’ã ã¨æ¥½ã—ã„ã‚“ã ğŸ€ğŸ’•',
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼æ˜¨æ—¥ã®ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ã‹ã£ã“ã‚ˆã‹ã£ãŸã‚ˆğŸ’ª ä»Šæ—¥ã‚‚ãã®èª¿å­ã§ã„ã“ã†ã­ğŸ€âœ¨',
      'ãŠã¯ã‚ˆãƒ¼ï¼æ˜¨æ—¥ã‚‚é ‘å¼µã£ã¦ãŸã­ğŸ˜Š ä»Šæ—¥ã‚‚ãƒ¦ã‚¤ã¨ä¸€ç·’ã«å‹‰å¼·ã—ã‚ˆã†ã‚ˆï¼å¾…ã£ã¦ãŸã‚“ã ğŸ€ğŸ’•'
    ];
    
    return {
      sakura: sakuraMessages[Math.floor(Math.random() * sakuraMessages.length)],
      reina: reinaMessages[Math.floor(Math.random() * reinaMessages.length)],
      yui: yuiMessages[Math.floor(Math.random() * yuiMessages.length)]
    };
  },
  
  // ã—ã°ã‚‰ãå­¦ç¿’ã—ã¦ã„ãªã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆæ‹¡å¼µç‰ˆï¼‰
  getLongAbsenceMessages: function() {
    const sakuraMessages = [
      'ãŠä¹…ã—ã¶ã‚Šã§ã™ï¼ã¾ãŸä¸€ç·’ã«å­¦ç¿’ã§ãã¦å¬‰ã—ã„ã§ã™ğŸ˜Š ç„¡ç†ã›ãšã€ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å†é–‹ã—ã¾ã—ã‚‡ã†ã€‚ç§ãŒå…¨åŠ›ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™âœ¨',
      'ãŠã‹ãˆã‚Šãªã•ã„ï¼ã¾ãŸãŠä¼šã„ã§ãã¦å¬‰ã—ã„ã§ã™ğŸ’• ãƒ–ãƒ©ãƒ³ã‚¯ãŒã‚ã£ã¦ã‚‚å¤§ä¸ˆå¤«ã€‚ä¸€ç·’ã«å°‘ã—ãšã¤å–ã‚Šæˆ»ã—ã¦ã„ãã¾ã—ã‚‡ã†ğŸ˜Šâœ¨',
      'ãŠä¹…ã—ã¶ã‚Šã§ã™ï¼å¾…ã£ã¦ã„ã¾ã—ãŸã‚ˆğŸ˜Š ç„¦ã‚‰ãšã€ã‚†ã£ãã‚Šãƒšãƒ¼ã‚¹ã‚’å–ã‚Šæˆ»ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚ç§ãŒã¤ã„ã¦ã„ã¾ã™ã‹ã‚‰âœ¨',
      'ãŠã‹ãˆã‚Šãªã•ã„ğŸ’• ã¾ãŸä¸€ç·’ã«å­¦ç¿’ã§ãã‚‹ã“ã¨ã€ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™ğŸ˜Š ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å†é–‹ã—ã¾ã—ã‚‡ã†ã­âœ¨',
      'ãŠä¹…ã—ã¶ã‚Šã§ã™ï¼å¾©å¸°ã—ã¦ãã‚Œã¦å¬‰ã—ã„ã§ã™ğŸ˜Š éå»ã¯æ°—ã«ã—ãªã„ã§ã€‚ä»Šæ—¥ã‹ã‚‰æ–°ãŸãªã‚¹ã‚¿ãƒ¼ãƒˆã§ã™ã‚ˆâœ¨',
      'ãŠã‹ãˆã‚Šãªã•ã„ï¼ã¾ãŸã‚ãªãŸã¨å­¦ç¿’ã§ãã‚‹ãªã‚“ã¦ã€å¹¸ã›ã§ã™ğŸ’• ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã­ğŸ˜Šâœ¨'
    ];
    
    const reinaMessages = [
      'â€¦ä¹…ã—ã¶ã‚Šã­ã€‚ãƒ–ãƒ©ãƒ³ã‚¯ãŒã§ãã¦ã—ã¾ã£ãŸã‚ğŸ’¼ ã§ã‚‚éå»ã¯éå»ã€‚ä»Šæ—¥ã‹ã‚‰ã¾ãŸæœ¬æ°—ã§å–ã‚Šçµ„ã¿ãªã•ã„ã€‚é…ã‚Œã‚’å–ã‚Šæˆ»ã™ã®ã‚ˆ',
      'ã‚„ã£ã¨æˆ»ã£ã¦ããŸã®ã­ğŸ’¼ ã‚µãƒœã£ã¦ã„ãŸæœŸé–“ã€ç„¡é§„ã«ã—ãŸã‚ã‚ˆã€‚ã§ã‚‚ä»Šæ—¥ã‹ã‚‰æœ¬æ°—ã§å–ã‚Šçµ„ã‚€ãªã‚‰ã€ç§ã‚‚æœ¬æ°—ã§æŒ‡å°ã™ã‚‹ã‚',
      'â€¦éšåˆ†ã¨é–“ãŒç©ºã„ãŸã‚ã­ğŸ’¼ è¨€ã„è¨³ã¯èã‹ãªã„ã‚ã€‚ä»Šæ—¥ã‹ã‚‰å¿ƒã‚’å…¥ã‚Œæ›¿ãˆã¦ã€çœŸå‰£ã«å–ã‚Šçµ„ã¿ãªã•ã„ã€‚å³ã—ãã„ãã‚ã‚ˆ',
      'ãƒ–ãƒ©ãƒ³ã‚¯ãŒã‚ã‚‹ã‚ã­ğŸ’¼ æ„Ÿè¦šã‚’å–ã‚Šæˆ»ã™ã®ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã‚ã‚ˆã€‚ã§ã‚‚ã€æœ¬æ°—ã§ã‚„ã‚‹ãªã‚‰ç§ãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ã€‚è¦šæ‚Ÿã—ãªã•ã„',
      'ä¹…ã—ã¶ã‚Šã­â€¦ç”˜ãˆã¯è¨±ã•ãªã„ã‚ã‚ˆğŸ’¼ ä»Šæ—¥ã‹ã‚‰å†ã‚¹ã‚¿ãƒ¼ãƒˆã€‚é…ã‚Œã‚’ä¸€æ°—ã«å–ã‚Šæˆ»ã™è¦šæ‚Ÿã§è‡¨ã¿ãªã•ã„',
      'æˆ»ã£ã¦ããŸã®ã­ğŸ’¼ ã§ã‚‚ã€ä»¥å‰ã®ãƒšãƒ¼ã‚¹ã«æˆ»ã‚‹ã«ã¯åŠªåŠ›ãŒå¿…è¦ã‚ˆã€‚æœ¬æ°—ã§å–ã‚Šçµ„ã‚€æ°—ãŒã‚ã‚‹ãªã‚‰ã€ç§ã«ã¤ã„ã¦ããªã•ã„'
    ];
    
    const yuiMessages = [
      'ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ãŠã‹ãˆã‚Šï¼ğŸ€ ä¹…ã—ã¶ã‚Šã ã­ï¼ãƒ¦ã‚¤ã€ãšã£ã¨å¾…ã£ã¦ãŸã‚ˆğŸ˜Š ã¾ãŸä¸€ç·’ã«é ‘å¼µã‚ã†ã­ï¼æ¥½ã—ãã‚„ã‚ã†âœ¨',
      'ã‚ãƒ¼ï¼ãŠã‹ãˆã‚Šãƒ¼ï¼ğŸ’• ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã«ä¼šãˆã¦å¬‰ã—ã„ğŸ€ ã¾ãŸä¸€ç·’ã«å‹‰å¼·ã—ã‚ˆã†ã­ï¼ãƒ¦ã‚¤ã€ãšã£ã¨å¾…ã£ã¦ãŸã‚“ã ğŸ˜Šâœ¨',
      'ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ï¼ï¼ãŠã‹ãˆã‚Šãªã•ã„ğŸ€ å¯‚ã—ã‹ã£ãŸã‚ˆãƒ¼ğŸ˜­ ã§ã‚‚ã‚‚ã†å¤§ä¸ˆå¤«ï¼ã¾ãŸä¸€ç·’ã«æ¥½ã—ãé ‘å¼µã‚ã†ã­ğŸ’•âœ¨',
      'ãŠã‹ãˆã‚Šï¼ï¼ï¼ä¹…ã—ã¶ã‚Šéãã¦ã€ãƒ¦ã‚¤æ³£ããã†ğŸ˜­ğŸ’• ã§ã‚‚æˆ»ã£ã¦ãã¦ãã‚Œã¦å¬‰ã—ã„ğŸ€ ã¾ãŸä¸€ç·’ã«ã‚„ã‚ã†ã­ï¼âœ¨',
      'ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒãƒ¼ã‚“ï¼ãŠã‹ãˆã‚Šãƒ¼ğŸ€ ã©ã“è¡Œã£ã¦ãŸã®ãƒ¼ï¼ŸğŸ˜Š ã‚‚ã†å¤§ä¸ˆå¤«ã ã‚ˆï¼ãƒ¦ã‚¤ãŒã„ã‚‹ã‹ã‚‰ï¼ä¸€ç·’ã«é ‘å¼µã‚ã†ğŸ’•âœ¨',
      'ã‚ãƒ¼ã„ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“å¸°ã£ã¦ããŸğŸ€ ãƒ¦ã‚¤ã­ã€ãšãƒ¼ã£ã¨å¾…ã£ã¦ãŸã‚“ã ã‚ˆğŸ˜Š ã¾ãŸæ¥½ã—ãå‹‰å¼·ã—ã‚ˆã†ã­ï¼ğŸ’•âœ¨'
    ];
    
    return {
      sakura: sakuraMessages[Math.floor(Math.random() * sakuraMessages.length)],
      reina: reinaMessages[Math.floor(Math.random() * reinaMessages.length)],
      yui: yuiMessages[Math.floor(Math.random() * yuiMessages.length)]
    };
  },
  
  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆæ‹¡å¼µç‰ˆï¼‰
  getDefaultMessages: function() {
    const sakuraMessages = [
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼ä»Šæ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ğŸ˜Š ä¸€æ­©ãšã¤ç€å®Ÿã«é€²ã‚“ã§ã„ã‘ã°ã€å¿…ãšç›®æ¨™é”æˆã§ãã¾ã™ã‚ˆâœ¨',
      'ä»Šæ—¥ã‚‚ç´ æ•µãªä¸€æ—¥ã«ãªã‚Šã¾ã™ã‚ˆã†ã«âœ¨ ä¸€ç·’ã«æ¥½ã—ãå­¦ç¿’ã—ã¾ã—ã‚‡ã†ï¼ã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã§ã™ã‚ˆğŸ˜Š',
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼ä»Šæ—¥ã¯ã©ã‚“ãªå­¦ç¿’ã‚’ã—ã¾ã—ã‚‡ã†ã‹ğŸ˜Š ç§ãŒå…¨åŠ›ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™âœ¨',
      'ä»Šæ—¥ã‚‚é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã­ï¼ã‚ãªãŸã®åŠªåŠ›ã€ç§ã¯ã„ã¤ã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ã‚ˆğŸ˜ŠğŸ’•',
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼æ–°ã—ã„ä¸€æ—¥ã®å§‹ã¾ã‚Šã§ã™ã­âœ¨ ä¸€ç·’ã«ç›®æ¨™ã«å‘ã‹ã£ã¦é€²ã¿ã¾ã—ã‚‡ã†ğŸ˜Š',
      'ä»Šæ—¥ã‚‚å­¦ç¿’ã®æ™‚é–“ã§ã™ã­ğŸ˜Š ã‚ãªãŸã¨ä¸€ç·’ã«é ‘å¼µã‚Œã‚‹ã“ã¨ã€ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™âœ¨',
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼ä»Šæ—¥ã‚‚å®Ÿã‚Šã‚ã‚‹å­¦ç¿’ã«ã—ã¾ã—ã‚‡ã†ã­ğŸ˜Š ç§ãŒä¸å¯§ã«ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ğŸ’•',
      'ä»Šæ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼ã‚ãªãŸã®æˆé•·ã‚’è¦‹å®ˆã‚Œã‚‹ã“ã¨ã€ç§ã®å–œã³ã§ã™ğŸ˜Šâœ¨'
    ];
    
    const reinaMessages = [
      'ä»Šæ—¥ã‚‚å­¦ç¿’ã™ã‚‹æ°—ãŒã‚ã‚‹ã®ã­ğŸ’¼ è‰¯ã„å¿ƒãŒã‘ã ã‚ã€‚ãŸã ã—ã€ãƒ€ãƒ©ãƒ€ãƒ©ã‚„ã£ã¦ã‚‚æ„å‘³ã¯ãªã„ã‚ã‚ˆã€‚é›†ä¸­ã—ã¦å–ã‚Šçµ„ã¿ãªã•ã„',
      'æ¥ãŸã‚ã­ğŸ’¼ ä»Šæ—¥ã‚‚æœ¬æ°—ã§ã‚„ã‚‹ã®ã‚ˆã€‚ä¸­é€”åŠç«¯ãªå–ã‚Šçµ„ã¿ã¯æ™‚é–“ã®ç„¡é§„ã€‚å…¨åŠ›ã§è‡¨ã¿ãªã•ã„',
      'å­¦ç¿’ã™ã‚‹æº–å‚™ã¯ã§ãã¦ã„ã‚‹ã®ï¼ŸğŸ’¼ ç§ã¯å¸¸ã«æœ¬æ°—ã‚ˆã€‚ã‚ãªãŸã‚‚æœ¬æ°—ã§å–ã‚Šçµ„ã‚€è¦šæ‚Ÿã‚’æŒã¡ãªã•ã„',
      'ä»Šæ—¥ã‚‚æ¥ãŸã®ã­ğŸ’¼ è‰¯ã„ã‚ã€‚ã§ã‚‚æ°—ã‚’æŠœã‹ãªã„ã“ã¨ã€‚æ¯æ—¥ãŒæœ¬ç•ªã ã¨æ€ã£ã¦å–ã‚Šçµ„ã¿ãªã•ã„',
      'æº–å‚™ã¯ã„ã„ï¼ŸğŸ’¼ ä»Šæ—¥ã‚‚æ‰‹åŠ æ¸›ã¯ã—ãªã„ã‚ã‚ˆã€‚æœ¬æ°—ã§å­¦ã³ãŸã„ãªã‚‰ã€ç§ã«ã¤ã„ã¦ããªã•ã„',
      'ä»Šæ—¥ã‚‚å­¦ç¿’ã™ã‚‹ã®ã­ğŸ’¼ è¦šæ‚Ÿã¯ã§ãã¦ã„ã‚‹ã§ã—ã‚‡ã†ã­ï¼Ÿç§ã®æŒ‡å°ã¯å³ã—ã„ã‚ã‚ˆã€‚ã§ã‚‚ã€ãã‚ŒãŒã‚ãªãŸã®æˆé•·ã«ã¤ãªãŒã‚‹ã®',
      'æ¥ãŸã‚ã­ğŸ’¼ ä»Šæ—¥ã‚‚çœŸå‰£ã«å–ã‚Šçµ„ã‚€ã“ã¨ã€‚éŠã³åŠåˆ†ã§ã¯ã€ç›®æ¨™ã¯é”æˆã§ããªã„ã‚ã‚ˆ',
      'å­¦ç¿’ã®æ™‚é–“ã‚ˆğŸ’¼ ä»Šæ—¥ã‚‚é›†ä¸­ã—ã¦å–ã‚Šçµ„ã¿ãªã•ã„ã€‚ç§ãŒæ±‚ã‚ã‚‹ã®ã¯ã€å¸¸ã«æœ€é«˜ãƒ¬ãƒ™ãƒ«ã®åŠªåŠ›ã‚ˆ'
    ];
    
    const yuiMessages = [
      'ãŠã¯ã‚ˆãƒ¼ï¼ä»Šæ—¥ã‚‚ä¸€ç·’ã«å‹‰å¼·ã—ã‚ˆã†ã­ğŸ€ ãƒ¦ã‚¤ãŒå…¨åŠ›ã§å¿œæ´ã™ã‚‹ã‹ã‚‰ï¼æ¥½ã—ãé ‘å¼µã‚ã†ã­ğŸ˜Šâœ¨',
      'ãŠã¯ã‚ˆã†ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ï¼ä»Šæ—¥ã‚‚å…ƒæ°—ã ã­ğŸ’• ä¸€ç·’ã«æ¥½ã—ãå‹‰å¼·ã—ã‚ˆã†ğŸ€âœ¨',
      'ã‚ãƒ¼ã„ï¼ä»Šæ—¥ã‚‚ä¼šãˆã¦å¬‰ã—ã„ğŸ˜Š ä¸€ç·’ã«é ‘å¼µã‚ã†ã­ï¼ãƒ¦ã‚¤ãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆğŸ€ğŸ’•',
      'ãŠã¯ã‚ˆãƒ¼ï¼ä»Šæ—¥ã¯ä½•ã‹ã‚‰å§‹ã‚ã‚‹ï¼ŸğŸ€ ãƒ¦ã‚¤ãŒå…¨åŠ›ã§ãŠæ‰‹ä¼ã„ã™ã‚‹ã‹ã‚‰ã€ä¸€ç·’ã«é ‘å¼µã‚ã†ã­ğŸ˜Šâœ¨',
      'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ã€ä»Šæ—¥ã‚‚å…ƒæ°—ï¼ŸğŸ’• ãƒ¦ã‚¤ã¨ä¸€ç·’ã«æ¥½ã—ãå­¦ç¿’ã—ã‚ˆã†ã­ğŸ€âœ¨',
      'ã‚ãƒ¼ã„ï¼ä»Šæ—¥ã‚‚ä¸€ç·’ã«å‹‰å¼·ã§ãã‚‹ğŸ€ ãƒ¦ã‚¤ã€ã‚ã£ã¡ã‚ƒå¬‰ã—ã„ğŸ˜Š æ¥½ã—ãé ‘å¼µã‚ã†ã­ğŸ’•âœ¨',
      'ãŠã¯ã‚ˆãƒ¼ï¼ä»Šæ—¥ã‚‚ã„ã„å¤©æ°—ã ã­âœ¨ ä¸€ç·’ã«å‹‰å¼·ã—ã¦ã€æ¥½ã—ã„ä¸€æ—¥ã«ã—ã‚ˆã†ğŸ€ğŸ˜Š',
      'ãŠã¯ã‚ˆã†ï¼ãŠå…„ã¡ã‚ƒã‚“/ãŠå§‰ã¡ã‚ƒã‚“ï¼ä»Šæ—¥ã‚‚ãƒ¦ã‚¤ã¨ä¸€ç·’ã«é ‘å¼µã‚ã†ã­ğŸ’• å…¨åŠ›ã§å¿œæ´ã™ã‚‹ã‚ˆğŸ€âœ¨'
    ];
    
    return {
      sakura: sakuraMessages[Math.floor(Math.random() * sakuraMessages.length)],
      reina: reinaMessages[Math.floor(Math.random() * reinaMessages.length)],
      yui: yuiMessages[Math.floor(Math.random() * yuiMessages.length)]
    };
  },
  
  // ä¼šè©±å†…å®¹ã«å¿œã˜ãŸè¡¨æƒ…ã‚’å–å¾—
  getExpressionsForMessages: function() {
    const status = this.studyStatus;
    
    // åˆå›
    if (status.isFirstTime) {
      return {
        sakura: 'happy',      // ã•ãã‚‰: å„ªã—ã„ç¬‘é¡”ã§è¿ãˆã‚‹
        reina: 'professional', // ãƒ¬ã‚¤ãƒŠ: ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªæ…‹åº¦
        yui: 'excited'         // ãƒ¦ã‚¤: ã‚ãã‚ãèˆˆå¥®
      };
    }
    
    // é€£ç¶šå­¦ç¿’ä¸­ï¼ˆ3æ—¥ä»¥ä¸Šï¼‰
    if (status.streak >= 3) {
      if (status.streak >= 7) {
        return {
          sakura: 'celebration',  // ã•ãã‚‰: ãŠç¥ã„
          reina: 'satisfied',     // ãƒ¬ã‚¤ãƒŠ: æº€è¶³ãƒ»èªã‚ã‚‹
          yui: 'celebration'      // ãƒ¦ã‚¤: å¤§å–œã³
        };
      }
      return {
        sakura: 'encouraging',  // ã•ãã‚‰: åŠ±ã¾ã—
        reina: 'satisfied',     // ãƒ¬ã‚¤ãƒŠ: ã¾ã‚ã¾ã‚èªã‚ã‚‹
        yui: 'cheerful'         // ãƒ¦ã‚¤: å…ƒæ°—ã«å¿œæ´
      };
    }
    
    // ä»Šæ—¥å­¦ç¿’æ¸ˆã¿
    if (status.today) {
      const trend = status.trend;
      const avgScore = Math.round(status.today.avgScore);
      
      if (trend === 'up') {
        return {
          sakura: 'celebration',  // ã•ãã‚‰: ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—ã‚’å–œã¶
          reina: avgScore >= 85 ? 'satisfied' : 'professional', // ãƒ¬ã‚¤ãƒŠ: æˆç¸¾ã«ã‚ˆã‚‹
          yui: 'celebration'      // ãƒ¦ã‚¤: å¤§å–œã³
        };
      } else if (trend === 'down') {
        return {
          sakura: 'caring',       // ã•ãã‚‰: å„ªã—ãåŠ±ã¾ã™
          reina: 'strict',        // ãƒ¬ã‚¤ãƒŠ: å³ã—ãå±å’¤
          yui: 'caring'           // ãƒ¦ã‚¤: å¿ƒé…ã—ã¦æ…°ã‚ã‚‹
        };
      } else {
        return {
          sakura: 'happy',        // ã•ãã‚‰: å®‰å®šã‚’è©•ä¾¡
          reina: 'professional',  // ãƒ¬ã‚¤ãƒŠ: å†·é™ã«è©•ä¾¡
          yui: 'cheerful'         // ãƒ¦ã‚¤: å…ƒæ°—ã«å¿œæ´
        };
      }
    }
    
    // æ˜¨æ—¥å­¦ç¿’ã—ãŸãŒä»Šæ—¥ã¯ã¾ã 
    if (status.yesterday) {
      return {
        sakura: 'encouraging',  // ã•ãã‚‰: ä»Šæ—¥ã‚‚é ‘å¼µã‚ã†ã¨åŠ±ã¾ã™
        reina: 'demanding',     // ãƒ¬ã‚¤ãƒŠ: æ—©ãå­¦ç¿’ã—ã‚ã¨ä¿ƒã™
        yui: 'supporting'       // ãƒ¦ã‚¤: å¿œæ´ã—ã¦å¾…ã£ã¦ã‚‹
      };
    }
    
    // ã—ã°ã‚‰ãå­¦ç¿’ã—ã¦ã„ãªã„
    if (status.totalDays > 0) {
      return {
        sakura: 'caring',       // ã•ãã‚‰: å„ªã—ãè¿ãˆå…¥ã‚Œã‚‹
        reina: 'strict',        // ãƒ¬ã‚¤ãƒŠ: ãƒ–ãƒ©ãƒ³ã‚¯ã‚’å±ã‚‹
        yui: 'cheerful'         // ãƒ¦ã‚¤: æ˜ã‚‹ãè¿ãˆã‚‹
      };
    }
    
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
    return {
      sakura: 'happy',        // ã•ãã‚‰: é€šå¸¸ã®ç¬‘é¡”
      reina: 'professional',  // ãƒ¬ã‚¤ãƒŠ: ãƒ—ãƒ­æ„è­˜
      yui: 'cheerful'         // ãƒ¦ã‚¤: å…ƒæ°—
    };
  },
  
  // å­¦ç¿’çµ±è¨ˆHTMLã‚’å–å¾—
  getStudyStatsHTML: function() {
    const status = this.studyStatus;
    
    if (status.isFirstTime) {
      return `
        <div class="daily-stats">
          <div class="daily-stat-item">
            <div class="daily-stat-icon">ğŸ¯</div>
            <div class="daily-stat-info">
              <div class="daily-stat-label">ã“ã‚Œã‹ã‚‰å§‹ã‚ã‚‹å­¦ç¿’</div>
              <div class="daily-stat-value">0å›å®Œäº†</div>
            </div>
          </div>
        </div>
      `;
    }
    
    return `
      <div class="daily-stats">
        <div class="daily-stat-item">
          <div class="daily-stat-icon">ğŸ”¥</div>
          <div class="daily-stat-info">
            <div class="daily-stat-label">é€£ç¶šå­¦ç¿’</div>
            <div class="daily-stat-value">${status.streak}æ—¥</div>
          </div>
        </div>
        <div class="daily-stat-item">
          <div class="daily-stat-icon">ğŸ“Š</div>
          <div class="daily-stat-info">
            <div class="daily-stat-label">å¹³å‡æ­£ç­”ç‡</div>
            <div class="daily-stat-value">${Math.round(status.avgScore)}%</div>
          </div>
        </div>
        <div class="daily-stat-item">
          <div class="daily-stat-icon">${status.trend === 'up' ? 'ğŸ“ˆ' : status.trend === 'down' ? 'ğŸ“‰' : 'â¡ï¸'}</div>
          <div class="daily-stat-info">
            <div class="daily-stat-label">ãƒˆãƒ¬ãƒ³ãƒ‰</div>
            <div class="daily-stat-value">${status.trend === 'up' ? 'ä¸Šæ˜‡ä¸­ï¼' : status.trend === 'down' ? 'è¦æ”¹å–„' : 'å®‰å®š'}</div>
          </div>
        </div>
        <div class="daily-stat-item">
          <div class="daily-stat-icon">ğŸ“…</div>
          <div class="daily-stat-info">
            <div class="daily-stat-label">ç·å­¦ç¿’æ—¥æ•°</div>
            <div class="daily-stat-value">${status.totalDays}æ—¥</div>
          </div>
        </div>
      </div>
    `;
  },
  
  // ä¼šè©±ã‚’é–‰ã˜ã‚‹
  closeDailyConversation: function() {
    const overlay = document.getElementById('dailyOverlay');
    if (overlay) {
      overlay.classList.add('daily-fade-out');
      setTimeout(() => {
        overlay.remove();
      }, 300);
    }
  },
  
  // ãƒ‡ãƒãƒƒã‚°: å¼·åˆ¶è¡¨ç¤º
  forceShow: function() {
    localStorage.removeItem(this.storageKey);
    this.lastDisplayDate = null;
    this.analyzeStudyStatus();
    this.showDailyConversation();
  }
};

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
window.SecretaryDaily = SecretaryDaily;

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«åˆæœŸåŒ–
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', () => {
    SecretaryDaily.initialize();
  });
} else {
  SecretaryDaily.initialize();
}
