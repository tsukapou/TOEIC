<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        h1 {
            color: #667eea;
            margin-bottom: 2rem;
            text-align: center;
        }
        .test-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #f5f7fa;
            border-radius: 15px;
        }
        .test-section h2 {
            color: #333;
            margin-top: 0;
            font-size: 1.3rem;
        }
        button {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-right: 1rem;
            margin-bottom: 0.5rem;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        .status {
            padding: 1rem;
            background: white;
            border-radius: 10px;
            margin-top: 1rem;
            border-left: 4px solid #667eea;
        }
        .success {
            border-left-color: #4caf50;
        }
        .error {
            border-left-color: #f44336;
        }
        .info {
            padding: 1rem;
            background: #e3f2fd;
            border-radius: 10px;
            margin-bottom: 1rem;
            color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œãƒ†ã‚¹ãƒˆ</h1>
        
        <div class="info">
            <strong>ğŸ“ ãƒ†ã‚¹ãƒˆæ‰‹é †:</strong><br>
            1. ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ <br>
            2. VIPãƒªãƒ³ã‚°ã‚’æœ‰åŠ¹åŒ–<br>
            3. ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ãƒ§ãƒƒãƒ—ã‚’é–‹ã<br>
            4. ãƒªãƒ¯ãƒ¼ãƒ‰ã‚’è³¼å…¥ã—ã¦ãƒ†ã‚¹ãƒˆ
        </div>
        
        <!-- ãƒã‚¤ãƒ³ãƒˆç®¡ç† -->
        <div class="test-section">
            <h2>ğŸ’° ãƒã‚¤ãƒ³ãƒˆç®¡ç†</h2>
            <button onclick="addTestPoints(100)">+100ptè¿½åŠ </button>
            <button onclick="addTestPoints(500)">+500ptè¿½åŠ </button>
            <button onclick="addTestPoints(1000)">+1000ptè¿½åŠ </button>
            <button onclick="resetPoints()">ãƒªã‚»ãƒƒãƒˆ</button>
            <div id="pointStatus" class="status">ç¾åœ¨ã®ãƒã‚¤ãƒ³ãƒˆ: 0pt</div>
        </div>
        
        <!-- VIPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
        <div class="test-section">
            <h2>ğŸ’ VIPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h2>
            <button onclick="activateVIP()">VIPãƒªãƒ³ã‚°æœ‰åŠ¹åŒ–</button>
            <button onclick="deactivateVIP()">VIPè§£é™¤</button>
            <div id="vipStatus" class="status">VIPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: æœªæ´»æ€§</div>
        </div>
        
        <!-- ç§˜æ›¸è¨­å®š -->
        <div class="test-section">
            <h2>ğŸ‘¥ ç§˜æ›¸è¨­å®š</h2>
            <button onclick="setupTestSecretary('sakura')">ã•ãã‚‰ã‚’é¸æŠ</button>
            <button onclick="setupTestSecretary('reina')">éº—å¥ˆã‚’é¸æŠ</button>
            <button onclick="setupTestSecretary('rio')">è‰ç·’ã‚’é¸æŠ</button>
            <div id="secretaryStatus" class="status">ç¾åœ¨ã®ç§˜æ›¸: æœªè¨­å®š</div>
        </div>
        
        <!-- ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ãƒ§ãƒƒãƒ— -->
        <div class="test-section">
            <h2>ğŸ ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ãƒ§ãƒƒãƒ—</h2>
            <button onclick="openRewardShop()">ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ãƒ§ãƒƒãƒ—ã‚’é–‹ã</button>
            <div id="shopStatus" class="status">æº–å‚™å®Œäº†</div>
        </div>
        
        <!-- ãƒ­ã‚° -->
        <div class="test-section">
            <h2>ğŸ“‹ ãƒ†ã‚¹ãƒˆãƒ­ã‚°</h2>
            <div id="testLog" style="max-height: 300px; overflow-y: auto; font-size: 0.9rem; line-height: 1.6;">
                <div style="color: #666;">ãƒ­ã‚°ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™...</div>
            </div>
        </div>
    </div>
    
    <!-- å¿…é ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script>
        // ãƒ­ã‚°é–¢æ•°
        function log(message, type = 'info') {
            const logDiv = document.getElementById('testLog');
            const time = new Date().toLocaleTimeString();
            const colors = {
                info: '#1976d2',
                success: '#4caf50',
                error: '#f44336',
                warning: '#ff9800'
            };
            logDiv.innerHTML += `<div style="color: ${colors[type]}; margin-bottom: 0.5rem;">[${time}] ${message}</div>`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        // ãƒã‚¤ãƒ³ãƒˆè¿½åŠ 
        function addTestPoints(amount) {
            try {
                // DailyMissionsãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥æ“ä½œ
                const data = JSON.parse(localStorage.getItem('toeic_daily_missions') || '{"totalPoints": 0}');
                data.totalPoints = (data.totalPoints || 0) + amount;
                localStorage.setItem('toeic_daily_missions', JSON.stringify(data));
                
                updatePointStatus();
                log(`âœ… ${amount}ptã‚’è¿½åŠ ã—ã¾ã—ãŸ (åˆè¨ˆ: ${data.totalPoints}pt)`, 'success');
            } catch (e) {
                log(`âŒ ã‚¨ãƒ©ãƒ¼: ${e.message}`, 'error');
            }
        }
        
        // ãƒã‚¤ãƒ³ãƒˆãƒªã‚»ãƒƒãƒˆ
        function resetPoints() {
            localStorage.setItem('toeic_daily_missions', JSON.stringify({totalPoints: 0}));
            updatePointStatus();
            log('ğŸ”„ ãƒã‚¤ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ', 'info');
        }
        
        // ãƒã‚¤ãƒ³ãƒˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
        function updatePointStatus() {
            const data = JSON.parse(localStorage.getItem('toeic_daily_missions') || '{"totalPoints": 0}');
            document.getElementById('pointStatus').textContent = `ç¾åœ¨ã®ãƒã‚¤ãƒ³ãƒˆ: ${data.totalPoints || 0}pt`;
        }
        
        // VIPæœ‰åŠ¹åŒ–
        function activateVIP() {
            const ringStatus = {
                secretaryId: 'sakura',
                secretaryName: 'ã•ãã‚‰',
                activated: true,
                date: new Date().toLocaleDateString('ja-JP'),
                timestamp: Date.now(),
                bonuses: {
                    pointBonus: 1.1,
                    specialGreeting: true,
                    vipMessages: true,
                    specialAvatar: true,
                    allExpressions: true
                }
            };
            localStorage.setItem('secretary_promise_ring', JSON.stringify(ringStatus));
            updateVIPStatus();
            log('ğŸ’ VIPãƒªãƒ³ã‚°ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã—ãŸ (ãƒã‚¤ãƒ³ãƒˆ+10%)', 'success');
        }
        
        // VIPè§£é™¤
        function deactivateVIP() {
            localStorage.removeItem('secretary_promise_ring');
            updateVIPStatus();
            log('ğŸ”“ VIPãƒªãƒ³ã‚°ã‚’è§£é™¤ã—ã¾ã—ãŸ', 'info');
        }
        
        // VIPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
        function updateVIPStatus() {
            const ringStatus = JSON.parse(localStorage.getItem('secretary_promise_ring') || 'null');
            if (ringStatus && ringStatus.activated) {
                document.getElementById('vipStatus').innerHTML = `<strong>VIPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: æœ‰åŠ¹ğŸ’</strong><br>ãƒœãƒ¼ãƒŠã‚¹: ãƒã‚¤ãƒ³ãƒˆÃ—${ringStatus.bonuses.pointBonus}`;
                document.getElementById('vipStatus').classList.add('success');
            } else {
                document.getElementById('vipStatus').textContent = 'VIPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: æœªæ´»æ€§';
                document.getElementById('vipStatus').classList.remove('success');
            }
        }
        
        // ç§˜æ›¸è¨­å®š
        function setupTestSecretary(secretaryId) {
            const secretaries = {
                sakura: { id: 'sakura', name: 'ã•ãã‚‰' },
                reina: { id: 'reina', name: 'éº—å¥ˆ' },
                rio: { id: 'rio', name: 'è‰ç·’' }
            };
            
            const sec = secretaries[secretaryId];
            // SecretarySystemã®æ¨¡æ“¬ãƒ‡ãƒ¼ã‚¿
            const userInfo = {
                nickname: 'ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼',
                targetScore: 850
            };
            localStorage.setItem('secretary_user_info', JSON.stringify(userInfo));
            localStorage.setItem('current_secretary', secretaryId);
            
            updateSecretaryStatus();
            log(`ğŸ‘¤ ç§˜æ›¸ã‚’${sec.name}ã«è¨­å®šã—ã¾ã—ãŸ`, 'success');
        }
        
        // ç§˜æ›¸ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
        function updateSecretaryStatus() {
            const userInfo = JSON.parse(localStorage.getItem('secretary_user_info') || '{}');
            const currentSec = localStorage.getItem('current_secretary') || 'æœªè¨­å®š';
            document.getElementById('secretaryStatus').innerHTML = `ç¾åœ¨ã®ç§˜æ›¸: <strong>${currentSec}</strong><br>ãƒ¦ãƒ¼ã‚¶ãƒ¼: ${userInfo.nickname || 'æœªè¨­å®š'} (ç›®æ¨™: ${userInfo.targetScore || 'æœªè¨­å®š'}ç‚¹)`;
        }
        
        // ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ãƒ§ãƒƒãƒ—ã‚’é–‹ã
        function openRewardShop() {
            log('ğŸ ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ãƒ§ãƒƒãƒ—ã‚’é–‹ãã¾ã™...', 'info');
            
            // å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã§ã¯SecretaryRewards.showShop()ã‚’å‘¼ã¶
            // ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã¯è­¦å‘Šã‚’è¡¨ç¤º
            if (typeof SecretaryRewards !== 'undefined') {
                SecretaryRewards.showShop();
                log('âœ… ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ãƒ§ãƒƒãƒ—ãŒé–‹ãã¾ã—ãŸ', 'success');
            } else {
                alert('âš ï¸ ã“ã®ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã¯ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ¼ãƒ³ã§ã™ã€‚\n\nå®Ÿéš›ã®ã‚¢ãƒ—ãƒª(index.html)ã§ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:\n\n1. ãƒ›ãƒ¼ãƒ ç”»é¢ã®ã€ŒğŸ ãƒªãƒ¯ãƒ¼ãƒ‰ã‚·ãƒ§ãƒƒãƒ—ã€ãƒœã‚¿ãƒ³\n2. ãƒã‚¤ãƒ³ãƒˆè¡¨ç¤ºãƒãƒƒã‚¸\n3. ãƒªãƒ¯ãƒ¼ãƒ‰è³¼å…¥æ©Ÿèƒ½\n4. VIPãƒœãƒ¼ãƒŠã‚¹é©ç”¨');
                log('âš ï¸ å®Ÿéš›ã®ã‚¢ãƒ—ãƒª(index.html)ã§ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„', 'warning');
            }
        }
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            updatePointStatus();
            updateVIPStatus();
            updateSecretaryStatus();
            log('ğŸš€ ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ èµ·å‹•å®Œäº†', 'success');
            log('ğŸ“ ã¾ãšã€Œ+100ptè¿½åŠ ã€ãƒœã‚¿ãƒ³ã§ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„', 'info');
        });
    </script>
</body>
</html>
