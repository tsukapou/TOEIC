/* ===================================
   ğŸ“± TOEIC PART5 ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œCSS
   iPhoneãƒ»ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ç”»é¢æœ€é©åŒ–
   =================================== */

/* ===================================
   ğŸ¯ ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å…¨èˆ¬ï¼ˆæ¨ªå¹…768pxä»¥ä¸‹ï¼‰
   =================================== */
@media screen and (max-width: 768px) {
    
    /* ===== åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ===== */
    body {
        font-size: 14px;
        line-height: 1.5;
    }
    
    .container {
        padding: 1rem;
        max-width: 100%;
    }
    
    /* ===== ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ã‚¿ã‚¤ãƒˆãƒ« ===== */
    .app-header {
        margin-bottom: 1.5rem;
    }
    
    .app-title {
        font-size: 1.75rem !important;
        margin-bottom: 0.5rem;
    }
    
    .app-subtitle {
        font-size: 1rem !important;
    }
    
    /* ===== ãƒ‡ãƒ¼ã‚¿å¼•ç¶™ããƒœã‚¿ãƒ³ï¼ˆå·¦ä¸ŠåŸ‹ã‚è¾¼ã¿å¼ï¼‰ ===== */
    #dataTransferBtn,
    button[onclick*="showDataTransferModal"],
    button[onclick*="dataTransfer"],
    button[onclick*="showDataSyncPanel"] {
        padding: 0.375rem 0.625rem !important;
        font-size: 0.7rem !important;
        top: 0.5rem !important;
        left: 0.5rem !important;
        min-height: auto !important;
        width: auto !important;
        border-radius: 0.375rem !important;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    }
    
    /* ===== ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ1ã‚«ãƒ©ãƒ åŒ–ï¼‰ ===== */
    .level-selection,
    .mode-selection,
    .stats-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }
    
    /* ===== ã‚«ãƒ¼ãƒ‰å…¨èˆ¬ ===== */
    .level-card,
    .mode-card,
    .stat-card,
    .card {
        padding: 1rem !important;
        margin-bottom: 1rem;
    }
    
    .card-title {
        font-size: 1.25rem !important;
    }
    
    /* ===== ãƒœã‚¿ãƒ³å…¨èˆ¬ ===== */
    .btn,
    button {
        padding: 0.75rem 1.25rem !important;
        font-size: 0.95rem !important;
        min-height: 44px; /* ã‚¿ãƒƒãƒ—é ˜åŸŸç¢ºä¿ */
        width: 100%;
        margin-bottom: 0.75rem;
    }
    
    /* ãƒ‡ãƒ¼ã‚¿å¼•ç¶™ããƒœã‚¿ãƒ³ã¨ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³ã¯ä¾‹å¤– */
    #dataTransferBtn,
    button[onclick*="showDataTransferModal"],
    button[onclick*="dataTransfer"],
    button[onclick*="showDataSyncPanel"],
    #skipGreetingBtn,
    button[onclick*="skip"] {
        width: auto !important;
        min-height: auto !important;
    }
    
    .btn-primary,
    .btn-secondary,
    .btn-success {
        width: 100% !important;
    }
    
    /* ===== ã€Œç§˜æ›¸ã®éƒ¨å±‹ã€ãƒœã‚¿ãƒ³ ===== */
    button[onclick*="SecretaryPanel.show"] {
        padding: 0.875rem 1.5rem !important;
        font-size: 1rem !important;
    }
    
    /* ===== ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰ ===== */
    .profile-card,
    #userProfileCard {
        padding: 1.25rem !important;
    }
    
    .profile-header {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .profile-avatar {
        width: 60px !important;
        height: 60px !important;
    }
    
    /* ===== é€²æ—ãƒãƒ¼ ===== */
    .progress-bar-container {
        height: 10px !important;
    }
    
    .score-display {
        font-size: 1.5rem !important;
    }
    
    /* ===== çµ±è¨ˆæƒ…å ± ===== */
    .stat-box .stat-value {
        font-size: 1.25rem !important;
    }
    
    .stat-box .stat-label {
        font-size: 0.8rem !important;
    }
    
    /* ===================================
       ğŸ¯ å•é¡Œç”»é¢ã®æœ€é©åŒ–
       =================================== */
    
    #questionCard {
        padding: 1rem !important;
    }
    
    .question-header {
        flex-direction: column;
        align-items: flex-start !important;
        gap: 0.5rem;
    }
    
    .question-number {
        font-size: 1rem !important;
    }
    
    .question-text {
        font-size: 1.1rem !important;
        line-height: 1.6;
    }
    
    .option-card {
        padding: 0.875rem !important;
        margin-bottom: 0.75rem;
    }
    
    .option-label {
        font-size: 0.9rem !important;
    }
    
    .option-text {
        font-size: 0.95rem !important;
    }
    
    /* é¸æŠè‚¢ã®ãƒ›ãƒãƒ¼åŠ¹æœã‚’ã‚¿ãƒƒãƒ—ç”¨ã«èª¿æ•´ */
    .option-card:active {
        transform: scale(0.98);
    }
    
    /* ===== å•é¡ŒãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ ===== */
    .question-nav {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .question-nav button {
        width: 100% !important;
    }
    
    /* ===================================
       ğŸ¯ çµæœç”»é¢ã®æœ€é©åŒ–
       =================================== */
    
    .result-header {
        padding: 1.5rem 1rem !important;
    }
    
    .result-score {
        font-size: 2.5rem !important;
    }
    
    .result-message {
        font-size: 1rem !important;
    }
    
    .result-stats {
        grid-template-columns: 1fr !important;
        gap: 0.75rem;
    }
    
    /* Chart.js ã‚°ãƒ©ãƒ•ã®é«˜ã•èª¿æ•´ */
    canvas {
        max-height: 250px !important;
    }
    
    /* ===================================
       ğŸ¯ ç§˜æ›¸ã‚·ã‚¹ãƒ†ãƒ ã®æœ€é©åŒ–
       =================================== */
    
    /* ===== ç§˜æ›¸ã‚¢ãƒã‚¿ãƒ¼ï¼ˆå³ä¸‹å›ºå®šï¼‰ ===== */
    .secretary-container {
        bottom: 1rem !important;
        right: 0.5rem !important;
    }
    
    .secretary-avatar {
        width: 70px !important;
        height: 70px !important;
    }
    
    .secretary-avatar img {
        width: 70px !important;
        height: 70px !important;
    }
    
    /* ===== ç§˜æ›¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ«ãƒ¼ãƒ³ ===== */
    .secretary-message-balloon {
        max-width: 280px !important;
        padding: 0.875rem !important;
        font-size: 0.85rem !important;
        bottom: 90px !important;
        right: 0.5rem !important;
    }
    
    .secretary-message-balloon::after {
        right: 20px !important;
    }
    
    /* ===== ç§˜æ›¸ã®éƒ¨å±‹ãƒ¢ãƒ¼ãƒ€ãƒ« ===== */
    #secretaryPanelModal {
        padding: 0.5rem !important;
    }
    
    #secretaryPanelModal > div {
        max-width: 100% !important;
        max-height: 95vh !important;
        padding: 1.25rem !important;
        border-radius: 1rem !important;
    }
    
    /* ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼ */
    .secretary-panel-header h2 {
        font-size: 1.35rem !important;
    }
    
    /* ãƒã‚¤ãƒ³ãƒˆè¡¨ç¤º */
    .secretary-panel-header > div {
        flex-direction: column;
        gap: 0.5rem;
        font-size: 0.85rem !important;
    }
    
    /* ç§˜æ›¸ã‚°ãƒªãƒƒãƒ‰ï¼ˆ1ã‚«ãƒ©ãƒ ï¼‰ */
    .secretary-grid {
        grid-template-columns: 1fr !important;
        gap: 0.875rem !important;
        max-height: 55vh !important;
    }
    
    /* ç§˜æ›¸ã‚«ãƒ¼ãƒ‰ */
    .secretary-card {
        padding: 1rem !important;
    }
    
    .secretary-card-avatar {
        width: 70px !important;
        height: 70px !important;
    }
    
    .secretary-card-name {
        font-size: 1.1rem !important;
    }
    
    .secretary-card-type {
        font-size: 0.8rem !important;
    }
    
    .secretary-card-description {
        font-size: 0.85rem !important;
    }
    
    /* ãƒ­ãƒƒã‚¯çŠ¶æ…‹ã®ç§˜æ›¸ */
    .secretary-card.locked .required-points {
        font-size: 0.85rem !important;
    }
    
    /* ===== ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãƒ‘ãƒãƒ« ===== */
    #advicePanel {
        max-width: 95% !important;
        padding: 1.25rem !important;
        max-height: 80vh !important;
    }
    
    #advicePanel h3 {
        font-size: 1.2rem !important;
    }
    
    #adviceContent {
        font-size: 0.9rem !important;
        line-height: 1.6;
    }
    
    /* é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ */
    #advicePanel button {
        padding: 0.75rem 1.5rem !important;
        font-size: 0.9rem !important;
    }
    
    /* ===================================
       ğŸ¯ ãƒ‡ã‚¤ãƒªãƒ¼ä¼šè©±ã‚·ã‚¹ãƒ†ãƒ 
       =================================== */
    
    .daily-conversation-overlay {
        padding: 0.5rem !important;
    }
    
    .daily-conversation-card {
        max-width: 95% !important;
        padding: 1.25rem !important;
    }
    
    .daily-conversation-header {
        font-size: 1.1rem !important;
    }
    
    .daily-conversation-text {
        font-size: 0.9rem !important;
        line-height: 1.6;
    }
    
    /* ===================================
       ğŸ¯ ãƒ¢ãƒ¼ãƒ€ãƒ«å…¨èˆ¬
       =================================== */
    
    .modal-content,
    .modal-body {
        padding: 1.25rem !important;
        max-width: 95% !important;
    }
    
    .modal-header h2 {
        font-size: 1.35rem !important;
    }
    
    .modal-footer {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .modal-footer button {
        width: 100% !important;
    }
    
    /* ===================================
       ğŸ¯ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«
       =================================== */
    
    #userRegistrationModal > div {
        padding: 2rem 1.25rem !important;
        max-width: 95% !important;
    }
    
    #userRegistrationModal h2 {
        font-size: 1.5rem !important;
    }
    
    #userRegistrationModal input,
    #userRegistrationModal select {
        padding: 0.75rem !important;
        font-size: 0.95rem !important;
    }
    
    #userRegistrationModal label {
        font-size: 0.9rem !important;
    }
    
    /* ===================================
       ğŸ¯ ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³ï¼ˆå°å‹åŒ–ï¼‰
       =================================== */
    
    #skipGreetingBtn,
    button[onclick*="skip"] {
        bottom: 1rem !important;
        right: 1rem !important;
        padding: 0.375rem 0.75rem !important;
        font-size: 0.75rem !important;
        min-height: auto !important;
        width: auto !important;
    }
    
    /* ===================================
       ğŸ¯ å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿
       =================================== */
    
    .mode-toggle-container {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .mode-toggle-btn {
        width: 100% !important;
        padding: 0.875rem !important;
    }
    
    /* ===================================
       ğŸ¯ ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ»ãƒªã‚¹ãƒˆè¡¨ç¤º
       =================================== */
    
    table {
        font-size: 0.85rem !important;
    }
    
    table th,
    table td {
        padding: 0.5rem !important;
    }
    
    /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œ */
    .table-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    /* ===================================
       ğŸ¯ ãã®ä»–ã®UIè¦ç´ 
       =================================== */
    
    /* ãƒãƒƒã‚¸ */
    .badge {
        font-size: 0.75rem !important;
        padding: 0.25rem 0.5rem !important;
    }
    
    /* ã‚¿ã‚° */
    .tag {
        font-size: 0.8rem !important;
        padding: 0.375rem 0.625rem !important;
    }
    
    /* ã‚¢ã‚¤ã‚³ãƒ³ */
    .icon {
        width: 20px !important;
        height: 20px !important;
    }
    
    /* ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿ãƒ¼ */
    .separator {
        margin: 1rem 0 !important;
    }
}

/* ===================================
   ğŸ¯ å°å‹ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ï¼ˆæ¨ªå¹…480pxä»¥ä¸‹ï¼‰
   iPhone SE, iPhone 12 mini ç­‰
   =================================== */
@media screen and (max-width: 480px) {
    
    .app-title {
        font-size: 1.5rem !important;
    }
    
    .app-subtitle {
        font-size: 0.9rem !important;
    }
    
    /* ã•ã‚‰ã«å°ã•ã„ãƒœã‚¿ãƒ³ */
    .btn,
    button {
        padding: 0.625rem 1rem !important;
        font-size: 0.875rem !important;
    }
    
    /* ãƒ‡ãƒ¼ã‚¿å¼•ç¶™ããƒœã‚¿ãƒ³ã¨ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³ã¯ä¾‹å¤– */
    #dataTransferBtn,
    button[onclick*="showDataTransferModal"],
    button[onclick*="dataTransfer"],
    button[onclick*="showDataSyncPanel"],
    #skipGreetingBtn,
    button[onclick*="skip"] {
        width: auto !important;
        min-height: auto !important;
    }
    
    /* ç§˜æ›¸ã‚¢ãƒã‚¿ãƒ¼ã‚’ã•ã‚‰ã«å°å‹åŒ– */
    .secretary-avatar {
        width: 60px !important;
        height: 60px !important;
    }
    
    .secretary-avatar img {
        width: 60px !important;
        height: 60px !important;
    }
    
    /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ«ãƒ¼ãƒ³ */
    .secretary-message-balloon {
        max-width: 240px !important;
        font-size: 0.8rem !important;
        bottom: 75px !important;
    }
    
    /* ç§˜æ›¸ã‚«ãƒ¼ãƒ‰ã‚¢ãƒã‚¿ãƒ¼ */
    .secretary-card-avatar {
        width: 60px !important;
        height: 60px !important;
    }
    
    /* å•é¡Œãƒ†ã‚­ã‚¹ãƒˆ */
    .question-text {
        font-size: 1rem !important;
    }
    
    /* çµæœã‚¹ã‚³ã‚¢ */
    .result-score {
        font-size: 2rem !important;
    }
    
    /* ãƒ‡ãƒ¼ã‚¿å¼•ç¶™ããƒœã‚¿ãƒ³ï¼ˆã•ã‚‰ã«å°å‹åŒ–ï¼‰ */
    #dataTransferBtn,
    button[onclick*="showDataTransferModal"],
    button[onclick*="dataTransfer"],
    button[onclick*="showDataSyncPanel"] {
        padding: 0.3rem 0.5rem !important;
        font-size: 0.65rem !important;
    }
    
    /* ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³ï¼ˆã•ã‚‰ã«å°å‹åŒ–ï¼‰ */
    #skipGreetingBtn,
    button[onclick*="skip"] {
        padding: 0.3rem 0.625rem !important;
        font-size: 0.7rem !important;
    }
}

/* ===================================
   ğŸ¯ æ¨ªå‘ãï¼ˆãƒ©ãƒ³ãƒ‰ã‚¹ã‚±ãƒ¼ãƒ—ï¼‰å¯¾å¿œ
   =================================== */
@media screen and (max-width: 768px) and (orientation: landscape) {
    
    .container {
        padding: 0.75rem;
    }
    
    .app-header {
        margin-bottom: 1rem;
    }
    
    .app-title {
        font-size: 1.5rem !important;
    }
    
    /* ç§˜æ›¸ã‚¢ãƒã‚¿ãƒ¼ã‚’æ§ãˆã‚ã« */
    .secretary-container {
        bottom: 0.5rem !important;
        right: 0.5rem !important;
    }
    
    .secretary-avatar {
        width: 55px !important;
        height: 55px !important;
    }
    
    .secretary-avatar img {
        width: 55px !important;
        height: 55px !important;
    }
    
    /* ãƒ¢ãƒ¼ãƒ€ãƒ«ã®é«˜ã•èª¿æ•´ */
    .secretary-grid {
        max-height: 45vh !important;
    }
    
    #advicePanel {
        max-height: 70vh !important;
    }
}

/* ===================================
   ğŸ¯ ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹æœ€é©åŒ–
   =================================== */
@media (hover: none) and (pointer: coarse) {
    
    /* ã‚¿ãƒƒãƒ—æ™‚ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆå‰Šé™¤ */
    * {
        -webkit-tap-highlight-color: transparent;
    }
    
    /* ãƒœã‚¿ãƒ³ã®ã‚¿ãƒƒãƒ—ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ */
    button:active,
    .btn:active,
    .option-card:active {
        transform: scale(0.97);
        transition: transform 0.1s ease;
    }
    
    /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®æ…£æ€§ */
    .secretary-grid,
    .modal-body,
    .table-container {
        -webkit-overflow-scrolling: touch;
    }
}

/* ===================================
   ğŸ¯ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¼·åŒ–
   =================================== */
@media screen and (max-width: 768px) {
    
    /* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¡¨ç¤ºã‚’æ˜ç¢ºã« */
    button:focus,
    input:focus,
    select:focus {
        outline: 3px solid #3b82f6;
        outline-offset: 2px;
    }
    
    /* ãƒ†ã‚­ã‚¹ãƒˆã®å¯èª­æ€§å‘ä¸Š */
    body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}
