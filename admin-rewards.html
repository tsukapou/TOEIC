<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®¡ç†è€…æ©Ÿèƒ½ - ãƒªãƒ¯ãƒ¼ãƒ‰è¨­å®š | TOEICå­¦ç¿’ã‚¢ãƒ—ãƒª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: white;
            font-size: 36px;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .header .admin-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #333;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .reward-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .reward-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .reward-card h2 {
            font-size: 24px;
            color: #1f2937;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .reward-card-icon {
            font-size: 32px;
        }
        
        .current-value {
            background: #f9fafb;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .current-value-label {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 8px;
        }
        
        .current-value-number {
            font-size: 48px;
            font-weight: 700;
            color: #667eea;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }
        
        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .input-group input[type="number"] {
            font-size: 24px;
            font-weight: 600;
            text-align: center;
        }
        
        .btn-primary {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        
        .btn-secondary {
            width: 100%;
            padding: 12px;
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .btn-secondary:hover {
            background: #f3f4f6;
        }
        
        .achievement-list {
            max-height: 400px;
            overflow-y: auto;
            background: #f9fafb;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .achievement-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .achievement-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .achievement-item.unlocked {
            background: #d1fae5;
            border: 2px solid #10b981;
        }
        
        .achievement-item-icon {
            font-size: 32px;
        }
        
        .achievement-item-info {
            flex: 1;
        }
        
        .achievement-item-name {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }
        
        .achievement-item-desc {
            font-size: 13px;
            color: #6b7280;
        }
        
        .achievement-item-status {
            font-size: 12px;
            padding: 6px 12px;
            border-radius: 12px;
            font-weight: 600;
        }
        
        .achievement-item-status.unlocked {
            background: #10b981;
            color: white;
        }
        
        .achievement-item-status.locked {
            background: #e5e7eb;
            color: #6b7280;
        }
        
        .success-toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
            display: none;
            animation: slideIn 0.3s ease;
            z-index: 1000;
        }
        
        .success-toast.show {
            display: block;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .back-link {
            display: inline-block;
            color: white;
            text-decoration: none;
            font-size: 18px;
            font-weight: 600;
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-5px);
        }
        
        .quick-actions {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .quick-actions h3 {
            font-size: 20px;
            color: #1f2937;
            margin-bottom: 15px;
        }
        
        .quick-action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .quick-action-btn {
            padding: 15px 20px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .quick-action-btn.gold {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #333;
        }
        
        .quick-action-btn.silver {
            background: linear-gradient(135deg, #c0c0c0, #e8e8e8);
            color: #333;
        }
        
        .quick-action-btn.bronze {
            background: linear-gradient(135deg, #cd7f32, #d4a574);
            color: white;
        }
        
        .quick-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 28px;
            }
            
            .reward-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ ãƒªãƒ¯ãƒ¼ãƒ‰è¨­å®š</h1>
            <span class="admin-badge">Admin Only</span>
        </div>
        
        <div id="successToast" class="success-toast">
            âœ… è¨­å®šã‚’æ›´æ–°ã—ã¾ã—ãŸï¼
        </div>
        
        <!-- ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="quick-actions">
            <h3>âš¡ ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h3>
            <div class="quick-action-buttons">
                <button class="quick-action-btn gold" onclick="addPoints(10000)">
                    ğŸ’° +10,000 ãƒã‚¤ãƒ³ãƒˆ
                </button>
                <button class="quick-action-btn silver" onclick="addPoints(5000)">
                    ğŸ’° +5,000 ãƒã‚¤ãƒ³ãƒˆ
                </button>
                <button class="quick-action-btn bronze" onclick="addPoints(1000)">
                    ğŸ’° +1,000 ãƒã‚¤ãƒ³ãƒˆ
                </button>
                <button class="quick-action-btn gold" onclick="unlockAllAchievements()">
                    ğŸ† å…¨å®Ÿç¸¾è§£æ”¾
                </button>
                <button class="quick-action-btn silver" onclick="setMaxStreak()">
                    ğŸ”¥ ã‚¹ãƒˆãƒªãƒ¼ã‚¯100æ—¥
                </button>
                <button class="quick-action-btn bronze" onclick="setHighScore()">
                    ğŸ“Š æº€ç‚¹ã‚¹ã‚³ã‚¢è¨­å®š
                </button>
            </div>
        </div>
        
        <!-- ãƒªãƒ¯ãƒ¼ãƒ‰è¨­å®šã‚«ãƒ¼ãƒ‰ -->
        <div class="reward-grid">
            <!-- ãƒã‚¤ãƒ³ãƒˆè¨­å®š -->
            <div class="reward-card">
                <h2>
                    <span class="reward-card-icon">ğŸ’°</span>
                    ãƒã‚¤ãƒ³ãƒˆè¨­å®š
                </h2>
                
                <div class="current-value">
                    <div class="current-value-label">ç¾åœ¨ã®ãƒã‚¤ãƒ³ãƒˆ</div>
                    <div class="current-value-number" id="currentPoints">0</div>
                </div>
                
                <div class="input-group">
                    <label for="pointsInput">æ–°ã—ã„ãƒã‚¤ãƒ³ãƒˆæ•°</label>
                    <input type="number" id="pointsInput" min="0" max="999999" value="0" placeholder="0">
                </div>
                
                <button class="btn-primary" onclick="setPoints()">
                    ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®š
                </button>
                
                <button class="btn-secondary" onclick="addPointsCustom()">
                    â• ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ 
                </button>
            </div>
            
            <!-- ã‚¹ãƒˆãƒªãƒ¼ã‚¯è¨­å®š -->
            <div class="reward-card">
                <h2>
                    <span class="reward-card-icon">ğŸ”¥</span>
                    ã‚¹ãƒˆãƒªãƒ¼ã‚¯è¨­å®š
                </h2>
                
                <div class="current-value">
                    <div class="current-value-label">ç¾åœ¨ã®ã‚¹ãƒˆãƒªãƒ¼ã‚¯</div>
                    <div class="current-value-number" id="currentStreak">0</div>
                </div>
                
                <div class="input-group">
                    <label for="streakInput">ã‚¹ãƒˆãƒªãƒ¼ã‚¯æ—¥æ•°</label>
                    <input type="number" id="streakInput" min="0" max="365" value="0" placeholder="0">
                </div>
                
                <button class="btn-primary" onclick="setStreak()">
                    ã‚¹ãƒˆãƒªãƒ¼ã‚¯ã‚’è¨­å®š
                </button>
                
                <button class="btn-secondary" onclick="resetStreak()">
                    ğŸ”„ ã‚¹ãƒˆãƒªãƒ¼ã‚¯ã‚’ãƒªã‚»ãƒƒãƒˆ
                </button>
            </div>
            
            <!-- ãƒ†ã‚¹ãƒˆå›æ•°è¨­å®š -->
            <div class="reward-card">
                <h2>
                    <span class="reward-card-icon">ğŸ“</span>
                    ãƒ†ã‚¹ãƒˆå›æ•°è¨­å®š
                </h2>
                
                <div class="current-value">
                    <div class="current-value-label">ãƒ†ã‚¹ãƒˆå®Ÿæ–½å›æ•°</div>
                    <div class="current-value-number" id="currentTests">0</div>
                </div>
                
                <div class="input-group">
                    <label for="testsInput">ãƒ†ã‚¹ãƒˆå›æ•°</label>
                    <input type="number" id="testsInput" min="0" max="9999" value="0" placeholder="0">
                </div>
                
                <button class="btn-primary" onclick="setTestCount()">
                    ãƒ†ã‚¹ãƒˆå›æ•°ã‚’è¨­å®š
                </button>
            </div>
        </div>
        
        <!-- å®Ÿç¸¾è§£æ”¾ã‚«ãƒ¼ãƒ‰ -->
        <div class="reward-card" style="margin-bottom: 30px;">
            <h2>
                <span class="reward-card-icon">ğŸ†</span>
                å®Ÿç¸¾è§£æ”¾
            </h2>
            
            <div class="achievement-list" id="achievementList">
                <!-- JavaScriptã§å‹•çš„ç”Ÿæˆ -->
            </div>
            
            <button class="btn-primary" onclick="unlockAllAchievements()">
                å…¨å®Ÿç¸¾ã‚’è§£æ”¾
            </button>
            
            <button class="btn-secondary" onclick="resetAllAchievements()">
                ğŸ”„ å®Ÿç¸¾ã‚’ãƒªã‚»ãƒƒãƒˆ
            </button>
        </div>
        
        <a href="admin-menu.html" class="back-link">â† ç®¡ç†è€…ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹</a>
    </div>
    
    <script>
        // å…¨42ç¨®é¡ã®å®Ÿç¸¾å®šç¾©
        const ALL_ACHIEVEMENTS = [
            // ç¿’æ…£åŒ–ã‚«ãƒ†ã‚´ãƒª
            { id: 'first_test', name: 'åˆã‚ã®ä¸€æ­©', desc: 'æœ€åˆã®ãƒ†ã‚¹ãƒˆã‚’å®Œäº†', icon: 'ğŸ¯' },
            { id: 'streak_3', name: '3æ—¥é€£ç¶š', desc: '3æ—¥é–“é€£ç¶šã§å­¦ç¿’', icon: 'ğŸ”¥' },
            { id: 'streak_7', name: 'ä¸€é€±é–“ç¶™ç¶š', desc: '7æ—¥é–“é€£ç¶šã§å­¦ç¿’', icon: 'ğŸ“…' },
            { id: 'streak_30', name: 'ä¸€ãƒ¶æœˆç¶™ç¶š', desc: '30æ—¥é–“é€£ç¶šã§å­¦ç¿’', icon: 'ğŸ“†' },
            { id: 'streak_100', name: 'ç™¾æ—¥ä¿®è¡Œ', desc: '100æ—¥é–“é€£ç¶šã§å­¦ç¿’', icon: 'ğŸ’¯' },
            { id: 'early_bird', name: 'æ—©èµ·ãå­¦ç¿’è€…', desc: 'æœ6æ™‚å‰ã«å­¦ç¿’ã‚’é–‹å§‹', icon: 'ğŸŒ…' },
            { id: 'night_owl', name: 'å¤œå‹å­¦ç¿’è€…', desc: 'å¤œ10æ™‚ä»¥é™ã«å­¦ç¿’ã‚’å®Œäº†', icon: 'ğŸŒ™' },
            
            // ãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒª
            { id: 'test_10', name: 'ãƒ†ã‚¹ãƒˆ10å›', desc: '10å›ã®ãƒ†ã‚¹ãƒˆã‚’å®Œäº†', icon: 'ğŸ“' },
            { id: 'test_50', name: 'ãƒ†ã‚¹ãƒˆ50å›', desc: '50å›ã®ãƒ†ã‚¹ãƒˆã‚’å®Œäº†', icon: 'ğŸ“š' },
            { id: 'test_100', name: 'ãƒ†ã‚¹ãƒˆ100å›', desc: '100å›ã®ãƒ†ã‚¹ãƒˆã‚’å®Œäº†', icon: 'ğŸ“–' },
            { id: 'test_500', name: 'ãƒ†ã‚¹ãƒˆãƒã‚¹ã‚¿ãƒ¼', desc: '500å›ã®ãƒ†ã‚¹ãƒˆã‚’å®Œäº†', icon: 'ğŸ“' },
            
            // é«˜ã‚¹ã‚³ã‚¢ã‚«ãƒ†ã‚´ãƒª
            { id: 'perfect_score', name: 'æº€ç‚¹', desc: '30å•å…¨å•æ­£è§£', icon: 'ğŸ’¯' },
            { id: 'high_score_27', name: '27å•æ­£è§£', desc: '30å•ä¸­27å•æ­£è§£ï¼ˆ90%ï¼‰', icon: 'â­' },
            { id: 'score_800', name: 'ã‚¹ã‚³ã‚¢800ç‚¹', desc: 'äºˆæ¸¬ã‚¹ã‚³ã‚¢800ç‚¹åˆ°é”', icon: 'ğŸ†' },
            { id: 'score_900', name: 'ã‚¹ã‚³ã‚¢900ç‚¹', desc: 'äºˆæ¸¬ã‚¹ã‚³ã‚¢900ç‚¹åˆ°é”', icon: 'ğŸ‘‘' },
            { id: 'perfect_5times', name: 'æº€ç‚¹5å›', desc: 'æº€ç‚¹ã‚’5å›é”æˆ', icon: 'ğŸŒŸ' },
            
            // é€Ÿç­”ã‚«ãƒ†ã‚´ãƒª
            { id: 'speed_10min', name: 'ã‚¹ãƒ”ãƒ¼ãƒ‰è§£ç­”', desc: '10åˆ†ä»¥å†…ã«å®Œäº†', icon: 'âš¡' },
            { id: 'speed_5min', name: 'è¶…é€Ÿè§£ç­”', desc: '5åˆ†ä»¥å†…ã«å®Œäº†', icon: 'ğŸš€' },
            
            // å¾©ç¿’ã‚«ãƒ†ã‚´ãƒª
            { id: 'review_10', name: 'å¾©ç¿’10å›', desc: 'å¾©ç¿’ã‚’10å›å®Ÿæ–½', icon: 'ğŸ“–' },
            { id: 'review_50', name: 'å¾©ç¿’50å›', desc: 'å¾©ç¿’ã‚’50å›å®Ÿæ–½', icon: 'ğŸ“š' },
            { id: 'weakness_overcome', name: 'å¼±ç‚¹å…‹æœ', desc: 'è‹¦æ‰‹å•é¡Œã‚’5å•é€£ç¶šæ­£è§£', icon: 'ğŸ’ª' },
            
            // ãƒã‚¹ã‚¿ãƒ¼ã‚«ãƒ†ã‚´ãƒª
            { id: 'grammar_master', name: 'æ–‡æ³•ãƒã‚¹ã‚¿ãƒ¼', desc: 'æ–‡æ³•å•é¡Œã®æ­£ç­”ç‡90%ä»¥ä¸Š', icon: 'ğŸ“˜' },
            { id: 'vocabulary_master', name: 'èªå½™ãƒã‚¹ã‚¿ãƒ¼', desc: 'èªå½™å•é¡Œã®æ­£ç­”ç‡90%ä»¥ä¸Š', icon: 'ğŸ“—' },
            { id: 'all_categories', name: 'å…¨ã‚«ãƒ†ã‚´ãƒªåˆ¶è¦‡', desc: 'å…¨å•é¡Œã‚«ãƒ†ã‚´ãƒªã§80%ä»¥ä¸Š', icon: 'ğŸ–ï¸' },
            
            // ãã®ä»–
            { id: 'point_1000', name: 'ãƒã‚¤ãƒ³ãƒˆ1000', desc: '1000ãƒã‚¤ãƒ³ãƒˆç²å¾—', icon: 'ğŸ’°' },
            { id: 'point_10000', name: 'ãƒã‚¤ãƒ³ãƒˆ10000', desc: '10000ãƒã‚¤ãƒ³ãƒˆç²å¾—', icon: 'ğŸ’' },
            { id: 'secretary_unlock_5', name: 'ç§˜æ›¸5äººè§£æ”¾', desc: '5äººã®ç§˜æ›¸ã‚’è§£æ”¾', icon: 'ğŸ’¼' },
            { id: 'secretary_unlock_10', name: 'ç§˜æ›¸10äººè§£æ”¾', desc: '10äººã®ç§˜æ›¸ã‚’è§£æ”¾', icon: 'ğŸ¢' },
            { id: 'secretary_unlock_all', name: 'å…¨ç§˜æ›¸è§£æ”¾', desc: 'å…¨23äººã®ç§˜æ›¸ã‚’è§£æ”¾', icon: 'ğŸ‘¥' },
            { id: 'mission_complete_10', name: 'ãƒŸãƒƒã‚·ãƒ§ãƒ³10å›', desc: 'ãƒ‡ã‚¤ãƒªãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’10å›å®Œäº†', icon: 'ğŸ¯' },
            { id: 'mission_complete_30', name: 'ãƒŸãƒƒã‚·ãƒ§ãƒ³30å›', desc: 'ãƒ‡ã‚¤ãƒªãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’30å›å®Œäº†', icon: 'ğŸª' }
        ];
        
        /**
         * ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
         */
        function init() {
            loadCurrentValues();
            renderAchievementList();
        }
        
        /**
         * ç¾åœ¨ã®å€¤ã‚’èª­ã¿è¾¼ã¿
         */
        function loadCurrentValues() {
            // ãƒã‚¤ãƒ³ãƒˆ
            const points = localStorage.getItem('toeic_points') || 0;
            document.getElementById('currentPoints').textContent = parseInt(points).toLocaleString();
            
            // ã‚¹ãƒˆãƒªãƒ¼ã‚¯
            const streakData = JSON.parse(localStorage.getItem('toeic_streak_data') || '{}');
            const currentStreak = streakData.currentStreak || 0;
            document.getElementById('currentStreak').textContent = currentStreak;
            
            // ãƒ†ã‚¹ãƒˆå›æ•°
            const testHistory = JSON.parse(localStorage.getItem('toeic_test_history') || '[]');
            document.getElementById('currentTests').textContent = testHistory.length;
        }
        
        /**
         * å®Ÿç¸¾ãƒªã‚¹ãƒˆã‚’è¡¨ç¤º
         */
        function renderAchievementList() {
            const achievements = JSON.parse(localStorage.getItem('toeic_achievements') || '{}');
            const achievementList = document.getElementById('achievementList');
            
            achievementList.innerHTML = ALL_ACHIEVEMENTS.map(ach => {
                const isUnlocked = achievements[ach.id] && achievements[ach.id].unlocked;
                return `
                    <div class="achievement-item ${isUnlocked ? 'unlocked' : ''}" onclick="toggleAchievement('${ach.id}')">
                        <span class="achievement-item-icon">${ach.icon}</span>
                        <div class="achievement-item-info">
                            <div class="achievement-item-name">${ach.name}</div>
                            <div class="achievement-item-desc">${ach.desc}</div>
                        </div>
                        <span class="achievement-item-status ${isUnlocked ? 'unlocked' : 'locked'}">
                            ${isUnlocked ? 'è§£æ”¾æ¸ˆã¿' : 'æœªè§£æ”¾'}
                        </span>
                    </div>
                `;
            }).join('');
        }
        
        /**
         * ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®š
         */
        function setPoints() {
            const points = parseInt(document.getElementById('pointsInput').value) || 0;
            localStorage.setItem('toeic_points', points);
            showSuccess();
            loadCurrentValues();
        }
        
        /**
         * ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ 
         */
        function addPoints(amount) {
            const currentPoints = parseInt(localStorage.getItem('toeic_points') || 0);
            const newPoints = currentPoints + amount;
            localStorage.setItem('toeic_points', newPoints);
            showSuccess();
            loadCurrentValues();
        }
        
        /**
         * ã‚«ã‚¹ã‚¿ãƒ ãƒã‚¤ãƒ³ãƒˆè¿½åŠ 
         */
        function addPointsCustom() {
            const points = parseInt(document.getElementById('pointsInput').value) || 0;
            addPoints(points);
        }
        
        /**
         * ã‚¹ãƒˆãƒªãƒ¼ã‚¯ã‚’è¨­å®š
         */
        function setStreak() {
            const streak = parseInt(document.getElementById('streakInput').value) || 0;
            const streakData = JSON.parse(localStorage.getItem('toeic_streak_data') || '{}');
            
            streakData.currentStreak = streak;
            streakData.longestStreak = Math.max(streakData.longestStreak || 0, streak);
            streakData.lastStudyDate = new Date().toISOString().slice(0, 10);
            
            localStorage.setItem('toeic_streak_data', JSON.stringify(streakData));
            showSuccess();
            loadCurrentValues();
        }
        
        /**
         * ã‚¹ãƒˆãƒªãƒ¼ã‚¯ã‚’ãƒªã‚»ãƒƒãƒˆ
         */
        function resetStreak() {
            if (!confirm('ã‚¹ãƒˆãƒªãƒ¼ã‚¯ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ')) return;
            
            const streakData = {
                currentStreak: 0,
                longestStreak: 0,
                lastStudyDate: null,
                totalStudyDays: 0
            };
            
            localStorage.setItem('toeic_streak_data', JSON.stringify(streakData));
            showSuccess();
            loadCurrentValues();
        }
        
        /**
         * æœ€å¤§ã‚¹ãƒˆãƒªãƒ¼ã‚¯ã‚’è¨­å®š
         */
        function setMaxStreak() {
            const streakData = JSON.parse(localStorage.getItem('toeic_streak_data') || '{}');
            streakData.currentStreak = 100;
            streakData.longestStreak = 100;
            streakData.lastStudyDate = new Date().toISOString().slice(0, 10);
            localStorage.setItem('toeic_streak_data', JSON.stringify(streakData));
            showSuccess();
            loadCurrentValues();
        }
        
        /**
         * ãƒ†ã‚¹ãƒˆå›æ•°ã‚’è¨­å®š
         */
        function setTestCount() {
            const count = parseInt(document.getElementById('testsInput').value) || 0;
            const testHistory = [];
            
            // ãƒ€ãƒŸãƒ¼ã®å±¥æ­´ã‚’ä½œæˆ
            for (let i = 0; i < count; i++) {
                testHistory.push({
                    date: Date.now() - (i * 86400000),
                    score: Math.floor(Math.random() * 10) + 20,
                    total: 30
                });
            }
            
            localStorage.setItem('toeic_test_history', JSON.stringify(testHistory));
            showSuccess();
            loadCurrentValues();
        }
        
        /**
         * å®Ÿç¸¾ã‚’åˆ‡ã‚Šæ›¿ãˆ
         */
        function toggleAchievement(id) {
            const achievements = JSON.parse(localStorage.getItem('toeic_achievements') || '{}');
            
            if (achievements[id] && achievements[id].unlocked) {
                // è§£æ”¾æ¸ˆã¿ â†’ ãƒ­ãƒƒã‚¯
                delete achievements[id];
            } else {
                // æœªè§£æ”¾ â†’ è§£æ”¾
                achievements[id] = {
                    unlocked: true,
                    timestamp: Date.now()
                };
            }
            
            localStorage.setItem('toeic_achievements', JSON.stringify(achievements));
            renderAchievementList();
            showSuccess();
        }
        
        /**
         * å…¨å®Ÿç¸¾ã‚’è§£æ”¾
         */
        function unlockAllAchievements() {
            if (!confirm('å…¨42å€‹ã®å®Ÿç¸¾ã‚’è§£æ”¾ã—ã¾ã™ã‹ï¼Ÿ')) return;
            
            const achievements = {};
            ALL_ACHIEVEMENTS.forEach(ach => {
                achievements[ach.id] = {
                    unlocked: true,
                    timestamp: Date.now()
                };
            });
            
            localStorage.setItem('toeic_achievements', JSON.stringify(achievements));
            renderAchievementList();
            showSuccess();
        }
        
        /**
         * å…¨å®Ÿç¸¾ã‚’ãƒªã‚»ãƒƒãƒˆ
         */
        function resetAllAchievements() {
            if (!confirm('å…¨ã¦ã®å®Ÿç¸¾ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ')) return;
            
            localStorage.setItem('toeic_achievements', JSON.stringify({}));
            renderAchievementList();
            showSuccess();
        }
        
        /**
         * æº€ç‚¹ã‚¹ã‚³ã‚¢ã‚’è¨­å®š
         */
        function setHighScore() {
            const testHistory = JSON.parse(localStorage.getItem('toeic_test_history') || '[]');
            testHistory.push({
                date: Date.now(),
                score: 30,
                total: 30,
                accuracy: 100
            });
            localStorage.setItem('toeic_test_history', JSON.stringify(testHistory));
            showSuccess();
            loadCurrentValues();
        }
        
        /**
         * æˆåŠŸé€šçŸ¥ã‚’è¡¨ç¤º
         */
        function showSuccess() {
            const toast = document.getElementById('successToast');
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }
        
        // åˆæœŸåŒ–
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
