# 📍 スコア表示エリアの位置ガイド

## 表示される2つの場所

---

## 1️⃣ ホーム画面（index.html）

### 📍 正確な位置

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   TOEIC PART5 実践問題集
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ 👤 ツカサさん                [✏️ 編集]┃
┃                                      ┃
┃ 目標スコア: 800点                    ┃
┃ 現在の予測スコア: ---                 ┃
┃ ━━━━━━━━━━━━━━━━━━━━━━━━━         ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
  ↑ ユーザープロフィールカード

        ⬇️ ⬇️ ⬇️ ⬇️ ⬇️
        
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ 📊 最新のスコア予測    [📈 詳細を見る]┃
┃ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ ┃
┃ ┌─────────┬─────────┬─────────┐    ┃
┃ │💜 PART5 │💗リーディ │💙 総合  │    ┃
┃ │  150点  │ング 413点│310-516点│    ┃
┃ └─────────┴─────────┴─────────┘    ┃
┃ 🏆 レベル: Dレベル（中級）          ┃
┃ 前回テスト: 12/8 14:30              ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
  ↑↑↑ ここに表示されます！ ↑↑↑

        ⬇️ ⬇️ ⬇️ ⬇️ ⬇️

┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ 📝 実践テスト（30問 × 5回）         ┃
┃                                      ┃
┃ [Test 1] [Test 2] [Test 3] ...      ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
  ↑ 実践テスト領域
```

### 🔍 HTMLの行番号

| 行番号 | 内容 |
|:-----:|:-----|
| 202-265 | ユーザープロフィールカード |
| **268-310** | **📊 最新のスコア予測セクション** ← ここ！ |
| 313-320 | 実践テスト領域 |

### ⚠️ 重要な注意点

```javascript
// このセクションは最初 display: none; になっています
<div id="latestScorePrediction" style="display: none;">
```

**表示条件**:
- ✅ テスト履歴が **1件以上** ある場合のみ表示
- ❌ テスト履歴が **0件** の場合は非表示

**つまり**:
1. 初回起動時 → 表示されない
2. テストを1回受ける → ホームに戻ると表示される

---

## 2️⃣ マイスコア画面

### 📍 アクセス方法

```
ホーム画面
  ↓
📊 最新のスコア予測セクション
  ↓
[📈 詳細を見る] ボタンをクリック
  ↓
マイスコア画面に遷移
```

### 画面構成

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
        📊 マイスコア        [← ホームに戻る]
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 最新のスコア予測
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ ┌──────────┬──────────┬──────────┐ ┃
┃ │💜 PART5  │💗リーディ │💙 総合   │ ┃
┃ │  150点   │ング 413点│310-516点 │ ┃
┃ │/200点満点│/495点満点│/990点満点│ ┃
┃ └──────────┴──────────┴──────────┘ ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📈 スコア推移グラフ
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃        [Chart.jsグラフ]              ┃
┃   PART5（紫）＋ リーディング（ピンク） ┃
┃        過去10回分の推移               ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 テスト履歴
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ 📝 2025/12/8 14:30  テスト3         ┃
┃ PART5: 150点 | リーディング: 413点  ┃
┃ 正答率: 80%          総合: 310-516点┃
┣━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫
┃ 📝 2025/12/7 10:15  テスト2         ┃
┃ ...                                 ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
```

---

## 🧪 表示テスト方法

### 方法1: テストデータを手動作成

1. `test-score-location-check.html` を開く
2. **「📝 テストデータを作成」** ボタンをクリック
3. **「🏠 index.htmlを開く」** ボタンをクリック
4. ホーム画面でスコア予測セクションを確認

### 方法2: 実際にテストを受ける

```
Step 1: index.htmlを開く
   ↓
Step 2: 「Test 1」ボタンをクリック
   ↓
Step 3: 30問すべて回答してテストを終了
   ↓
Step 4: 「ホームに戻る」ボタンをクリック
   ↓
Step 5: ユーザープロフィールカードの下に
        📊 最新のスコア予測 が表示される！
```

---

## 🔍 開発者ツールで確認する方法

### ブラウザのコンソールで実行

```javascript
// 1. スコア予測セクションが存在するか確認
const scoreElement = document.getElementById('latestScorePrediction');
console.log('要素:', scoreElement);

// 2. 表示状態を確認
console.log('表示状態:', scoreElement.style.display);
// → "none" なら非表示、"block" なら表示中

// 3. テスト履歴を確認
const history = JSON.parse(localStorage.getItem('toeic_part5_scores') || '[]');
console.log('テスト履歴:', history.length, '件');
console.log(history);

// 4. 強制的に表示（テスト用）
if (history.length > 0) {
    scoreElement.style.display = 'block';
    console.log('✅ スコア予測セクションを強制表示しました');
}
```

---

## ❌ 表示されない場合のチェックリスト

### 1. テスト履歴があるか確認

```javascript
// ブラウザコンソールで実行
const history = JSON.parse(localStorage.getItem('toeic_part5_scores') || '[]');
console.log('テスト履歴件数:', history.length);
```

- ✅ `history.length > 0` → 表示されるはず
- ❌ `history.length === 0` → 表示されない（正常動作）

### 2. JavaScriptエラーがないか確認

1. F12キーを押して開発者ツールを開く
2. **Console** タブを確認
3. 赤いエラーメッセージがないか確認

### 3. `updateHomeScorePrediction()` が実行されているか

```javascript
// ブラウザコンソールで実行
updateHomeScorePrediction();
```

→ エラーが出なければ、関数は正常に定義されています

### 4. スーパーリロードを試す

- **Windows**: `Ctrl + Shift + R`
- **Mac**: `Cmd + Shift + R`

キャッシュをクリアして再読み込みします。

---

## 📱 実際の表示イメージ

### ホーム画面（スマホサイズ）

```
┏━━━━━━━━━━━━━━━━━━━━━━━┓
┃ 👤 ツカサさん      [✏️]┃
┃ 目標: 800点           ┃
┃ 予測: ---             ┃
┗━━━━━━━━━━━━━━━━━━━━━━━┛

┏━━━━━━━━━━━━━━━━━━━━━━━┓
┃ 📊 最新のスコア予測    ┃
┃        [📈 詳細]       ┃
┃ ━━━━━━━━━━━━━━━━━━━━ ┃
┃ ┌──────┐             ┃
┃ │💜150点│             ┃
┃ │/200点│             ┃
┃ └──────┘             ┃
┃ ┌──────┐             ┃
┃ │💗413点│             ┃
┃ │/495点│             ┃
┃ └──────┘             ┃
┃ ┌──────────┐         ┃
┃ │💙310-516点│         ┃
┃ │  /990点  │         ┃
┃ └──────────┘         ┃
┃                       ┃
┃ 🏆 Dレベル（中級）    ┃
┃ 前回: 12/8 14:30      ┃
┗━━━━━━━━━━━━━━━━━━━━━━━┛

┏━━━━━━━━━━━━━━━━━━━━━━━┓
┃ 📝 実践テスト          ┃
┃   (30問 × 5回)        ┃
┃                       ┃
┃ [Test 1] [Test 2]     ┃
┃ [Test 3] [Test 4]     ┃
┃ [Test 5]              ┃
┗━━━━━━━━━━━━━━━━━━━━━━━┛
```

---

## 🎯 まとめ

### スコア予測が表示される場所

1. **ホーム画面**: ユーザープロフィールカードと実践テスト領域の間
2. **マイスコア画面**: 専用ページで詳細表示

### 表示条件

- ✅ **テスト履歴が1件以上ある場合のみ**
- ❌ テスト履歴が0件の場合は非表示

### 表示させる方法

1. **テストを受ける** → ホームに戻る → 自動表示
2. **テストデータを作成** → ページをリロード → 自動表示

---

**作成日**: 2025-12-08  
**ファイル**: `index.html` 行268-310  
**要素ID**: `latestScorePrediction`
